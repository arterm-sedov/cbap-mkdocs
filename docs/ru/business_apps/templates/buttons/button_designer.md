---
tags:
    - кнопки
    - конструктор кнопки
    - сохранение кнопки
    - редактирование кнопки
    - настройка кнопки
    - свойства кнопки
    - скрипт C#
    - операция
    - формулы
    - n3
    - переменные
    - связи
hide:
    - tags
---

# Конструктор кнопки

Конструктор кнопки позволяет настроить внешний вид, поведение и результат нажатия кнопки.

## Переход к конструктору кнопки

1. Откройте [список кнопок](button_list_view.md) шаблона.
2. Дважды нажмите строку кнопки.
3. Отобразится конструктор кнопки.
4. [Отредактируйте кнопку](#настройка-кнопки).
5. Нажмите кнопку «**Сохранить**».

*![Конструктор кнопки — вкладка «Свойства»](button_designer.png)*

## Настройка кнопки

В конструкторе кнопки предусмотрены перечисленные ниже вкладки, позволяющие настроить параметры отображения и операцию, выполняющуюся при нажатии кнопки.

Настройке кнопку и нажмите кнопку «**Сохранить**».

### Свойства

На вкладке «**Свойства**» можно настроить основные параметры кнопки.

* **Отображаемое название** — подпись, которая будет отображаться на кнопке. После размещения кнопки внутри области кнопок (на форме или в таблице) её отображаемое название на данной области кнопок можно изменить, это изменение не повлияет на название исходной кнопки в шаблоне.
* **Системное имя** — уникальное имя кнопки для использования в сценариях, выражениях и скриптах.
* **Описание** — наглядное описание назначения кнопки.
* **Контекст операции** — определяет набор доступных операций, контекст выполнения операции и возможность использования кнопки на соответствующих формах и таблицах.
    * **Запись** в **шаблоне** **[записи](record_templates.md)**, **[аккаунта](account_templates.md)**, **[роли](role_templates.md)** или **[организационной единицы](organizational_unit_templates.md)**.
    * **Пользовательская задача** — элемент диаграммы процесса.
    * **Процесс** — **[шаблон процесса](process_templates.md)** или экземпляр процесса.
    * **Аккаунт** — запись в **[шаблоне аккаунта](account_templates.md)**.
    * **Диаграмма** — диаграмма процесса.
* **Операция** — набор доступных операций зависит от выбранного **контекста операции**. Предусмотрены следующие операции:
    * **Скрипт C#** — выполнение скрипта C#.
    * **Запустить процесс** — запуск экземпляра процесса по текущей записи или по новой записи.
    * **Остановить процесс** — остановка текущего экземпляра процесса.
    * **Запустить процесс по связанному шаблону** — запуск процесса по шаблону записи, связанному с текущим шаблоном.
    * **Экспорт записи** — экспорт записи посредством [шаблона экспорта][export_templates].
    * **Экспорт таблицы** — экспорт таблицы в формате XLSX.
    * **Архивировать** — архивирование записи или экземпляра процесса.
    * **Разархивировать** — разархивирование записи или экземпляра процесса.
    * **Создать** — создание записи.
    * **Создать связанную запись** — создание записи в шаблоне, связанном с текущим шаблоном.
    * **Сохранить** — сохранение текущей записи.
    * **Удалить** — удаление записи или экземпляра процесса.
    * **Открыть заново** — назначение задаче статуса «**Выполняется**».
    * **Завершить задачу** — завершение текущей задачи бизнес-процесса.
    * **Отложить выполнение** — эта операция будет реализована в последующих версиях продукта.
    * **Принять** — назначение текущего аккаунта исполнителем задачи.
    * **Мигрировать** — обновление экземпляра процесса до последней версии диаграммы процесса.
    * **Создать новый токен** — создание нового токена на выбранном элементе диаграммы экземпляра процесса.
    * **Привязать к шаблону** — привязка аккаунта к выбранному шаблону аккаунта.
    * **Отвязать от шаблона** — отвязка аккаунта от выбранного шаблона аккаунта.
    * **Вызвать событие «Нажата кнопка»** — при нажатии кнопки сработает событие «**Нажата кнопка**», по которому, например, может быть запущен сценарий в приложении.
    * **Редактировать** — изменение диаграммы процесса.

!!! Note "Примечание"
    Операции выполняются с **Записями** в **шаблонах** [**записей**](record_templates.md), [**аккаунтов**](account_templates.md), [**ролей**](role_templates.md) и [**организационных единиц**](organizational_unit_templates.md), а также с **экземплярами процессов** в **[шаблонах процессов](process_templates.md)**.

* **Сохранять запись после выполнения** — установите этот флажок, чтобы сохранять текущую запись после выполнения операции по нажатию кнопки.
* **Пропускать проверки** — установите этот флажок, чтобы вводе и сохранении данных записи не выполнялись проверки данных и не выводились сообщения об ошибках проверки.
* **Результат выполнения** — выберите действие, которое необходимо осуществить после выполнения операции.
    * **Обновить данные** — перезагрузка данных формы или таблицы.
    * **Навигация** — переход к объекту, указанному в поле «**Переход к**»:
          * **Связанная запись** — переход к записи, связанной с экземпляром процесса.
          * **Экземпляр процесса** — переход к экземпляру процесса.
          * **Задача запущенного процесса** — переход к текущей задаче экземпляра процесса.
          * **Следующая задача в списке** — переход к следующей задаче экземпляра процесса.
          * **Предыдущая страница** — переход к предыдущей странице, открытой в браузере.
          * **Диаграмма** — переход к диаграмме экземпляра процесса.
          * **Таблица** — переход к таблице с записями шаблона или экземплярами процесса.
    * **Скачать документ** — загрузка файла, сформированного по [шаблону экспорта][templates].
* **Установить режим доступа к форме**
    * **Чтение** — при нажатии кнопки форма станет доступна только для чтения.
    * **Редактирование** — нажав кнопку, пользователь сможет вводить данные в форму (при наличии соответствующих разрешений).
    *  **Не изменять** — использование исходного режима доступа к форме.
* **Показывать кнопку** — этот пункт следует использовать в сочетании с пунктом «**Установить режим доступа к форме***».
    * **В режиме редактирования** — кнопка будет отображаться только в режиме ввода данных в форму.
    * **В режиме чтения** — кнопка будет отображаться, когда форма доступна только для чтения.
    * **Всегда** — кнопка будет отображаться в режиме ввода данных и только чтения.
* **Отображать диалоговое окно** — если установлен этот флажок, при нажатии кнопки откроется предварительно настроенное окно подтверждения операции.
    * **Настроить диалоговое окно** — переход к [конструктору формы][form_designer] подтверждения операции. В этом конструкторе на панели элементов будут отображаться **[локальные переменные](#локальные-переменные)** операции, которые можно перетащить на диалоговое окно.

*![Конструктор диалогового окна операции с локальной переменной](button_designer_dialogue_designer.png)*

### Скрипт

На вкладке «**Скрипт**» можно ввести скрипт на языке C#, который будет выполняться при нажатии кнопки.

Чтобы сформировать заготовку скрипта C# нажмите кнопку «**Сформировать шаблон C#**».

*![Конструктор кнопки — вкладка «Скрипт» с заготовкой скрипта C#](button_designer_script.png)*

### Условие отображения

На вкладке «**Условие отображения**» можно задать формулу или выражение N3. Кнопка будет отображаться, если формула или выражение N3 вернёт `true`. В противном случае кнопка будет скрыта.

*![Конструктор кнопки — вкладка «Условие отображение» с формулой](button_designer_display_condition.png)*

### Локальные переменные

На вкладке «**Локальные переменные**» можно создать переменные для использования в скрипте C# или сценарии, выполняемом при нажатии кнопки.

Локальные переменные представляющие собой [атрибуты][attributes].

Пример использования локальной переменной см. в статье «[Использование локальной переменной для массовой обработки записей]({{ kbArticleURLPrefix }}2140)».

Для каждой переменной можно задать:

* **Отображаемое название** — наглядное название переменной;
* **Тип данных** — для переменных предусмотрены [такие же типы, как для атрибутов][attributes];
* **Формат отображения** — для переменных предусмотрены [такие же форматы отображения, как для атрибутов][attributes];
* **Системное имя** — уникальное имя переменной для использования в сценариях, выражениях и скриптах;
* **Описание** — наглядное описание назначения переменной;
* **Шаблон** — можно задать для переменных следующих типов: «**[Запись](attribute_record.md)**», «**[Аккаунт](attribute_account.md)**», «**[Роль](attribute_role.md)**», «**[Организационная единица](attribute_organizational_unit.md)**;
* **Хранить несколько значений** — этот флажок можно установить для переменных следующих типов: «**Файл**» (см. типы атрибутов «**[Документ](attribute_document.md)**» и «**[Изображение](attribute_image.md)**»), «**[Запись](attribute_record.md)**», «**[Аккаунт](attribute_account.md)**», «**[Роль](attribute_role.md)**», «**[Организационная единица](attribute_organizational_unit.md)**».

*![Конструктор кнопки — вкладка «Локальные переменные»](button_designer_local_variables.png)*

### Связи

На вкладке «**Связи**» отображается список всех объектов и ресурсов приложения, связанных с кнопкой.

*![Конструктор кнопки — вкладка «Связи»](button_designer_relations.png)*

--8<-- "related_topics_heading.md"

**[Просмотр списка кнопок в шаблоне](button_list_view.md)**

**[Создание кнопки](button_creation.md)**
