---
kbId: 2550
---

# Настройка таблицы в шаблоне

## Введение

С помощью конструктора таблицы можно настроить представление таблицы, которое будет использоваться по умолчанию для конечных пользователей.

В свою очередь, конечный пользователь может [настроить собственную конфигурацию](table_personal_use.md) отображения таблицы, например скрыть и переместить столбцы, отфильтровать, отсортировать и сгруппировать строки, подсчитать итоги.

В этом разделе представлены инструкции по настройке таблицы в шаблоне. См. также параграф _«[Настройка таблицы на форме]({{ kbArticleURLPrefix }}2531#formset17)»_.

## Переход к конструктору таблицы

1. Откройте шаблон и выберите вкладку «**Таблицы**».
2. Отобразится список таблиц шаблона.
3. Создайте таблицу, нажав кнопку «**Создать**» или откройте таблицу, дважды нажав её в списке.
4. Отобразится конструктор таблицы.
5. Настройте [свойства](#настройка-свойств-таблицы), [столбцы](#настройка-свойств-столбца) и [кнопки](#настройка-кнопок-таблицы) таблицы.

_![Области конструктора таблицы](table_settings_constructor_areas.png)_

### Области конструктора таблицы

1. **Панель элементов**  — содержит [атрибуты][attributes], которые можно [поместить в качестве столбцов](#настройка-свойств-столбца) в таблицу, а также кнопки для добавления в область кнопок.

    !!! tip "Совет"

        Панель элементов позволяет создавать и редактировать атрибуты в шаблоне, не покидая конструктор таблицы.

        - Чтобы создать атрибут в текущем шаблоне, наведите указатель мыши на заголовок «**Атрибуты**» и нажмите кнопку «**Добавить атрибут**».
        - Чтобы создать атрибут в связанном с этим атрибутом шаблоне, наведите указатель на название **[атрибута типа запись](attribute_record.md)** и нажмите кнопку «**Добавить атрибут**».
        - Чтобы отредактировать атрибут, наведите указатель мыши на его название и нажмите кнопку «**Редактировать атрибут**».

2. **Область кнопок** — позволяет [настроить кнопки](#настройка-кнопок-таблицы) для данной таблицы.
3. **Макет таблицы** — служит для [настройки столбцов](#настройка-свойств-столбца) таблицы.
4. **Панель свойств** — служит для настройки элемента, выбранного на макете: [таблицы](#настройка-свойств-таблицы), [столбца](#настройка-свойств-столбца) или [кнопок](#настройка-кнопок-таблицы).
5. **Кнопки**
    - Сохранить — сохранение текущей конфигурации таблицы.
    - **Клонировать** — [создание дубликата](table_clone.md) таблицы.
    - **Очистить** — удаление всех столбцов таблицы.
    - **Связи**  <i class=" fal  fa-link-horizontal " aria-hidden="true">‌</i> — просмотр списка сущностей, с которыми связана таблица.
    - **Перейти к таблице** <i class=" fal  fa-table " aria-hidden="true">‌</i> — просмотр настроенной таблицы с данными в представлении для конечного пользователя.
    - **Настроить шаблон** <i class=" fal  fa-external-link " aria-hidden="true">‌</i> — переход к свойствам шаблона, к которому относится таблица.

## Настройка свойств таблицы

1. Нажмите пустую область макета.
2. Справа от макета отобразится панель свойств таблицы
3. Настройте свойства таблицы на двух вкладках: «**Основные**» и «**Дополнительные** ».
4. Нажмите кнопку «**Сохранить**».

### Основные свойства

- **Отображаемое название** — наглядный заголовок таблицы, который отображается в списке таблиц шаблона и для конечных пользователей.
- **Системное имя** — уникальное имя таблицы, которое используется в вычислениях. Может содержать только буквы латинского алфавита, цифры и знак «_». Заполняется автоматически посредством транслитерации.
- **Ручная загрузка данных** — установите этот флажок , чтобы при открытии таблица отображалась без данных. Пользователь сможет настроить внешний вид таблицы, а затем нажать кнопку «**Загрузить данные**».

_![Таблица с ручной загрузкой данных](table_settings_data_load_button.png)_

- **По умолчанию** — установите этот флажок, чтобы таблица отображалась по умолчанию при просмотре записей в шаблоне. В шаблоне можно назначить только одну таблицу по умолчанию. Если пользователь откроет другую таблицу в шаблоне, она станет отображаться для него по умолчанию.
- **Показывать архивные записи** — установите этот флажок, чтобы в таблице отображались записи помещённые в архив, которые скрыты по умолчанию.
- **Отображение формы** — укажите способ отображения форм записей из таблицы:
    - **Нет** — при двойном нажатии строки таблицы форма с записью отобразится вместо таблицы;
    - **Вертикальное** — при нажатии строки в таблице форма записи отобразится справа от таблицы, границу между таблицей и формой можно будет перемещать с помощью мыши;
    - **Горизонтальное** — при нажатии строки в таблице форма записи отобразится под таблицей, границу между таблицей и формой можно будет перемещать с помощью мыши.
- **Записей на странице** — укажите количество строк отображающихся в таблице при её открытии, по умолчанию: 25.
- **Закрепить столбцы** — укажите количество столбцов начиная слева, которые не будут прокручиваться по горизонтали.
- **Карточки** — выберите представление карточек, которое будет использоваться для отображения данных таблицы в виде плиток. См. _«[Карточки](cards_assign_to_table.md)»_.
- **Системный фильтр** — задайте список ID записей, которые должны отображаться в таблице. Для этого введите **формулу** или выражение на языке  **N3** или составьте таблицу **DMN**.

### Дополнительные свойства — сортировка, группировка, подсчёт итогов, фильтрация

!!! note "Примечание"

    Перед настройкой дополнительных свойств таблицы её _необходимо сохранить_.

Для настройки сортировки, группировки, подсчёта итогов и фильтрации данных в таблице, перетащите столбцы из макета таблицы в соответствующие блоки на вкладке «**Дополнительные**» справа от макета и настройте параметры блоков, как указано ниже.

Чтобы удалить столбец из блока на вкладке «**Дополнительные**», перетащите его за пределы блока.

#### Сортировка

Перетащите в блок «**Сортировка**» один или несколько столбцов, а затем выберите каждый столбец в блоке и задайте направление сортировки строк таблицы по нему:

- **По возрастанию** — чем меньше значение в данном столбце, тем выше строка будет отображаться в таблице;
- **По убыванию** — чем больше значение в данном столбце, тем выше строка будет отображаться в таблице;
- **Пустые сверху** — установите этот флажок, чтобы строки с пустыми значениями в данном столбце отображались над остальными строками.

    !!! note "Примечания"

        Правила сортировки строк таблицы по нескольким столбцам будут применяться по порядку следования столбцов в блоке «**Сортировка**»: от первого к последнему.

        Чтобы задать порядок сортировки по нескольким столбцам, расположите их в требуемом порядке в блоке «**Сортировка**».

_![Настройка сортировки строк таблицы по двум столбцам](table_settings_sort_settings.png)_

#### Группировка

Перетащите в блок «**Группировка**» один или несколько столбцов, а затем выберите каждый столбец в блоке и задайте направление группировки строк таблицы по значениям в нём:

- **По возрастанию** — чем меньше значение в данном столбце, тем выше группа строк будет отображаться в таблице;
- **По убыванию** — чем больше значение в данном столбце, тем выше группа строк будет отображаться в таблице;
- **Пустые сверху** — установите этот флажок, чтобы строки с пустыми значениями в данном столбце отображались над остальными строками.

!!! note "Примечания"

    Строки группируются по одинаковым значениям в столбце.

    При группировке строк по нескольким столбцам в таблице будет сформировано древовидное представление записей.

    Правила группировки строк таблицы по нескольким столбцам будут применяться по порядку следования столбцов в блоке «**Группировка**»: от первого к последнему.

    Чтобы задать порядок сортировки по нескольким столбцам, расположите их в требуемом порядке в блоке «**Группировка**».

_![Настройка группировки строк таблицы по двум столбцам](table_settings_group_settings.png)_

#### Подсчёт итогов

Перетащите в блок «**Подсчет итогов**» один или несколько столбцов, а затем выберите каждый столбец в блоке и задайте способ подсчёта итогов по значениям в столбце:

- **Количество** — будет подсчитано количество строк в каждой группе в таблице;
- **Сумма** — для каждой группы строк в таблице будет подсчитана сумма значений в столбце.

!!! note "Примечание"

    Подсчет итогов работает только при включённой группировке строк в таблице.

_![Настройка подсчета итогов по столбцу таблицы](table_settings_count_settings.png)_

#### Фильтрация

Перетащите в блок «**Фильтрация**» один или несколько столбцов, а затем настройте правила фильтрации данных в таблице по значениям в столбцах:

- **Равно**
- **Не равно**
- **Больше чем**
- **Больше или равно**
- **Меньше чем**
- **Меньше или равно**

!!! note "Примечание"

    Для фильтров по нескольким столбцам можно выбрать логический оператор `И` либо `ИЛИ`. Для этого нажимайте кнопку «**Поменять оператор**» <i class="  fal  fa-exchange " title="Поменять оператор">‌</i> рядом с правилами фильтрации.

_![Настройка фильтра с оператором «И» по двум столбцам таблицы](table_settings_and_settings.png)_

## Настройка столбцов таблицы

Панель элементов конструктора таблицы содержит список атрибутов текущего шаблона и связанных с ним шаблонов. Эти атрибуты можно поместить в таблицу в качестве столбцов.

## Добавление столбца

1. Выберите атрибут в панели элементов слева от макета таблицы.
2. Чтобы выбрать атрибут шаблона, связанного с текущим, раскройте в панели элементов атрибут типа «**Запись**».
3. Перетащите выбранный атрибут на макет таблицы.
4. При необходимости перетащите столбец в требуемую позицию на макете таблицы. При перетаскивании целевая позиция столбца подсвечивается на макете.

    !!! note "Примечание"

        Для конечного пользователя столбцы таблицы будут отображаться слева направо в порядке их следования в макете таблицы: верхний столбец на макете отобразится первым слева в таблице.

5. Справа от макета отобразится панель «**Свойства столбца**».
6. [Настройте свойства столбца](#настройка-свойств-столбца).

_![Добавление и настройка столбца таблицы](table_settings_column_settings.png)_

### Настройка свойств столбца

1. Добавьте или выберите столбец таблицы на макете.
2. Настройте **свойства столбца** с помощью панели справа от макета таблицы:
    1. Отображаемое название — заголовок столбца в таблице;
    2. Ширина столбца — исходная ширина столбца в таблице (конечный пользователь сможет установить персональную ширину столбцов в таблице);
    3. Скрытый — установите этот флажок, чтобы столбец не отображался для конечного пользователя. Этот флажок можно использовать, например, чтобы скрыть столбцы, которые используются для сортировки, группировки или фильтрации таблицы, но не должны быть видны конечному пользователю. При этом пользователь сможет отобразить скрытые столбцы с помощью [персональной настройки таблицы](table_personal_use.md).
3. Нажмите кнопку «**Сохранить**», чтобы сохранить таблицу.

!!! note "Примечание"

    Под свойствами столбца в справочных целях отображаются свойства атрибута, к которому относится столбец:

- **Путь к атрибуту** — полный путь к атрибуту в контексте текущего шаблона;
- **Системное имя** — уникальное имя атрибута;
- **Тип** — тип данных атрибута;
- **Формат отображения** — отображает формат отображения данных атрибута;
- **Вычисляемый** — флажок, указывающий, является ли атрибут вычисляемым;
- **В архиве** — флажок, указывающий, является ли атрибут архивным.

## Настройка кнопок таблицы

В каждой таблице предусмотрена одна [область кнопок]({{ kbArticleURLPrefix }}2545).

- Изначально для таблицы используется область кнопок, в [свойствах]({{ kbArticleURLPrefix }}2545#mcetoc_1him2tva33) которой установлен флажок «**По умолчанию для таблиц**». В стандартной области кнопок, например, у шаблона записи находятся кнопки «**Сохранить**» и « **Архивировать** », а у шаблона процесса — «**Создать**», «**Остановить процесс**», «**Мигрировать**» и «**Архивировать**».
- Добавить и удалить кнопки для таблицы можно с помощью конструктора области кнопок, как указано ниже.
- Кроме того, у каждой таблицы предусмотрены перечисленные ниже системные кнопки, которые нельзя добавить и удалить:
    - **Обновить список** — перезагрузка данных таблицы.
    - **Мои настройки** — раскрывающееся меню для настройки таблицы:
        - **Настроить внешний вид** — [персональная настройка](table_personal_use.md) отображения столбцов таблицы для текущего пользователя.
        - **Удалить все фильтры** — сброс всех настроенных конечным пользователем фильтров данных в таблице.
        - **Сбросить** — удаление всех настроенных конечным пользователем параметров отображения таблицы. То есть будет восстановлено исходное представление таблицы, настроенное в конструкторе.
        - **Настроить таблицу** — перейти к [конструктору таблицы](#переход-к-конструктору-таблицы) (если у пользователя есть соответствующие права).
        - **Настроить шаблон** — переход к странице настройки шаблона, к которому относится таблица (если у пользователя есть соответствующие права).
    - **Поиск** — нажмите эту кнопку и введите ключевые слова в поле «**Поиск**». В таблице отобразятся строки, содержащие искомые слова.

### Порядок настройки области кнопок таблицы

1. Выберите область кнопок в верхней части макета таблицы.
2. В панели элементов слева отобразится список [кнопок шаблона][buttons].
3. Перетащите необходимые кнопки, группы кнопок и разделители на область кнопок.
4. При необходимости настройте свойства кнопок: переименуйте их, смените их значки или цвет. Эти изменения не отразятся на исходных кнопках, они будут использоваться только для данной таблицы.
5. Чтобы удалить все элементы из области кнопок, нажмите кнопку «**Очистить**» в панели «**Свойства области кнопок**».

    !!! note "Примечание"

        При изменении области кнопок таблицы в [списке областей кнопок]({{ kbArticleURLPrefix }}2545#toolbar1) будет создана новая область кнопок, которая будет использоваться только для этой таблицы. Исходная область кнопок не будет изменена.

6. Чтобы восстановить исходную область кнопок, используемую по умолчанию для таблиц, нажмите кнопку «**Восстановить исходные кнопки**» в панели «**Свойства области кнопок**». После восстановления исходных кнопок и сохранения таблицы созданная для неё особая область кнопок будет удалена из [списка областей кнопок]({{ kbArticleURLPrefix }}2545#toolbar1).
7. Нажмите кнопку «**Сохранить**», чтобы сохранить таблицу.

_![Настройка области кнопок таблицы](table_settings_buttons_area_settings.png)_

--8<-- "related_topics_heading.md"

**[Настройка таблицы на форме]({{ kbArticleURLPrefix }}2531#formset17)**

**[Таблицы. Использование и персональная настройка](table_personal_use.md)**

**[Таблицы. Определения, создание, удаление](table_definition.md)**

**[Клонирование таблицы](table_clone.md)**
