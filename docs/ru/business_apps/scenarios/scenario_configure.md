---
title: Создание и настройка сценария
tags:
  - сценарии
  - сценарий
  - событие
  - элементы сценария
  - событие сценария
  - действия сценария
  - шаги сценария
  - проверка сценария
  - удаление сценария
  - очистка сценария
  - свойства сценария
  - триггеры
hide:
  - tags
kbId: 2153
---

# Создание и настройка сценария {: #scenario_create_configure}

## Создание сценария из списка сценариев в приложении

1. Откройте [список сценариев в приложении][scenarios].
2. Нажмите кнопку «**Создать**».
3. Отобразится окно «**Новый сценарий**».
4. Настройте [свойства сценария][scenario_designer].

    _![Окно свойств нового сценария](scenario_create_properties.png)_

5. Нажмите кнопку «**Сохранить**».
6. Откроется конструктор сценария.
7. [Настройте сценарий][scenario_designer].

## Создание сценария для элемента диаграммы бизнес-процесса

1. Откройте [диаграмму бизнес-процесса][process_diagram_view].
2. Выберите [элемент диаграммы][process_diagram_elements].
3. В меню элемента нажмите кнопку «**Сценарий на входе**» <i class="fa-light fa-arrow-right-to-bracket"></i> или «**Сценарий на выходе**» <i class="fa-light fa-arrow-right-from-bracket"></i>.
4. Будет автоматически создан сценарий на входе или выходе из элемента диаграммы.
5. Отобразится конструктор сценария.
6. [Настройте сценарий][scenario_designer].

    *![Кнопки создания сценария на входе и выходе из элемента диаграммы процесса](scenario_exit_enter_process_element.png)*

## Свойства сценария

- **Название** — наглядное наименование сценария.
- **Системное имя** — уникальное имя сценария, формируется автоматически посредством транслитерации названия сценария.

    !!! Note "Примечание"
        Для сценариев на входе и выходе из [элементов диаграммы процесса](#создание-сценария-для-элемента-диаграммы-бизнес-процесса) название и системное имя сценария формируются автоматически.

- **Описание** — дополнительный комментарий о назначении сценария.
- **Контекст выполнения** — аккаунт, от имени которого выполняется сценарий.
    - **От имени системы** — сценарий будет выполняться с полными правами аккаунта «**Система**», без учёта роли и разрешений пользователя, инициировавшего событие, по которому запускается сценарий. То есть сценарий сможет выполнять _любые действия_.
    - **От инициатора** — сценарий будет выполняться при наличии необходимых разрешений у пользователя, инициировавшего событие. В случае отсутствия у пользователя разрешений система выдаст ошибку.
- **Статус** — состояние сценария.
    - **Активен** — сценарий выполняется при каждом наступлении заданного события.
    - **Приостановлен** — сценарий не выполняется при наступлении заданного события.

## Конструктор сценария {: #scenario_designer}

Для настройки сценариев в **{{ productName }}** предусмотрен удобный визуальный конструктор.

Открыть конструктор сценария можно двумя способами:

* Дважды нажмите строку сценария в [списке сценариев](scenarios_list_view.md).
* Нажмите кнопку «**Сценарий на входе**» или «**Сценарий на выходе**» в меню элемента диаграммы бизнес-процесса (см. «[Создание сценария для элемента диаграммы бизнес-процесса][создание-сценария-для-элемента-диаграммы-бизнес-процесса]»).

    *![Конструктор сценария](scenario_designer.png)*

## Кнопки настройки сценария 

В конструкторе сценария предусмотрены перечисленные ниже кнопки настройки сценария.

1. **Свойства** — настройка [свойств сценария][свойства-сценария].
2. **Очистить** — безвозвратное удаление всех элементов сценария. После нажатия этой кнопки в сценарий будет помещено пустое начальное событие «**Нажатие кнопки**», как если бы сценарий был создан заново.
3. **Удалить** — безвозвратное удаление сценария.
4. **Проверить** — проверка целостности и работоспособности сценария. При нажатии этой кнопки отобразится панель «**Результат проверки**» с перечнем выявленных ошибок в сценарии. Элементы сценария с ошибкой будут выделены красным цветом.

    *![Результат проверки сценария](scenario_validation_result.png)*

## Кнопки настройки элементов сценария

При наведении на него указателя мыши на элемент сценария отображаются кнопки настройки элемента.

1. **Изменить** <i class="fa-light  fa-edit"></i> — [настройка свойств элемента](#настройка-элемента-сценария).
2. **Перейти к контекстному шаблону** <i class="fa-light  fa-external-link"></i> — переход к [шаблону][templates], в контексте которого выполняется элемент сценария.
3. **Удалить** <i class="fa-light  fa-trash-alt"></i> — безвозвратное [удаление действия сценария](#удаление-действия).
4. **Добавить действие** <i class="fa-light  fa-plus-circle"></i> — [создание действия](#создание-действия) после текущего элемента или [внутри него](#создание-вложенных-действий).

    _![Кнопки настройки элемента сценария](scenario_element_buttons.png)_

!!! Warning "Внимание!"
    При настройке сценария изменения сохраняются и применяются автоматически.

## Настройка элемента сценария

1. Наведите указатель мыши на элемент.
2. Нажмите кнопку «**Изменить**» <i class="fa-light  fa-edit"></i>.
3. Откроется окно свойств элемента.
4. Настройте свойства [события](scenario_event.md) или [actions](scenario_actions.md).
5. Нажмите кнопку «**Сохранить**».

    _![Переход к настройке свойств элемента сценария](scenario_configure_action.png)_

## Создание действия

1. Наведите указатель мыши на элемент сценария, после или [внутрь](#создание-вложенных-действий) которого требуется добавить действие.
2. Нажмите кнопку «**Добавить действие**» <i class="fa-light  fa-plus-circle"></i>.
3. Выберите необходимое действие в раскрывающемся меню.
4. В конструкторе сценария появится новое действие.
5. [Настройте действие](#кнопки-настройки-элементов-сценария).

    _![Создание действия в сценарии](scenario_create_action.png)_

### Создание вложенных действий

Внутрь действий «**Сменить контекст**», «**Выполнить по условиям**», «**Повторять по числовому счётчику**», «**Повторять по количеству объектов**» можно поместить другие действия.

1. Нажмите кнопку «**Добавить действие**» <i class="fa-light  fa-plus-circle"></i> внутри другого действия.
2. Выберите необходимое действие в раскрывающемся меню.

    _![Создание вложенного действия в сценарии](scenario_create_nested_action.png)_

### Удаление действия

1. Наведите указатель мыши на подлежащее удалению действие.
2. Нажмите кнопку «**Удалить**» <i class="fa-light  fa-trash-alt"></i>.
4. Подтвердите удаление действия.

    _![Удаление действия из сценария](scenario_delete_action.png)_

--8<-- "related_topics_heading.md"

**[Сценарии. Определение, типы, использование][scenarios]**

**[Создание и настройка сценария][scenario_create_configure]**

**[Настройка событий в сценариях][scenario_event]**

**[Настройка действий сценария][scenario_actions]**
