---
title: Получение эл. почты через IMAP
kbId: 2585
---

# Получение эл. почты через IMAP. Настройка подключения {: #imap_receiving_connection}

## Введение

Подключения типа «**Получение эл. почты через IMAP**» используются в [сценариях][scenarios]. В процессах используются подключения типа «[**Получение эл. почты в процессе**][process_receiving_connection]».

После настройки подключения необходимо настроить соответствующий путь передачи данных типа «**Получение эл. почты через IMAP**».

## Настройка подключения для получение эл. почты

!!! note "Примечание"

    При подключении к почтовому серверу для получения эл. почты **{{ productName }}** выступает как почтовый клиент.

    При каждой проверке почтового ящика **{{ productName }}**:

    - обрабатывает новые письма;
    - отмечает новые письма как прочтённые.

    Поэтому для автоматической обработки входящих писем рекомендуется использовать отдельный адрес эл. почты.

    Если использовать ящик, на который поступают прочие письма, они тоже будут отмечены как прочитанные.

1. Откройте страницу «**Администрирование**» – «**Подключения**».
2. Откройте двойным нажатием или создайте подключение типа «**Подключения к электронной почте**» – «**Получение эл. почты в процессе**».
3. Настройте подключение к IMAP-серверу:

    - **Системное имя** — введите уникальное имя подключения. Рекомендуются буквы латинского алфавита, цифры и символ «_».
    - **Отключить** — установите этот флажок, если требуется временно деактивировать данное подключение.
    - **Описание** — введите наглядное описание подключения.
    - **Запись в файловые журналы** — выберите, какие события следует записывать в журналы:
        - **Полные сведения об обработке сообщения**;
        - **Только ошибки**;
        - **Отключить** — не регистрировать в журнале события получения писем.
    - **Для IMAP-сервера**
        - **Адрес почтового сервера** — введите адрес IMAP-сервера <u>без указания протокола (IMAP, HTTPS, HTTP)</u>.
        - **Порт** — введите номер порта IMAP-сервера.
        - **Шифрование** — выберите протокол шифрования, который поддерживает IMAP-сервер:
            - **Отсутствует** — не использовать шифрование;
            - **SSL**;
            - **TLS**.
        - **Проверять соединение без отправки сообщения** — установите этот флажок, чтобы проверить соединение без указания получателей тестового письма.
        - **Адреса получателей для проверки работоспособности подключения** — укажите один или несколько (через запятую) адресов эл. почты для проверки соединения.
    - **Для сервера Exchange**
        - **URL веб-сервера Exchange** — введите адрес почтового сервера <u>без указания протокола (HTTPS, HTTP)</u>.
        - **Версия Exchange** — выберите версию сервера Exchange.
    - **Тип аутентификации** — выберите способ проверки подлинности, используемый сервером:
        - **Отсутствует**;
        - **Базовая**;
        - **Аутентификация Windows**.
    - **Имя пользователя** — укажите учётную запись для подключения к IMAP-серверу.
    - **Пароль** — введите пароль к учётной записи для подключения к IMAP-серверу.
    - **Домен** — укажите домен пользователя IMAP-сервера.
    - **Шифрование** — выберите протокол шифрования, который поддерживает IMAP-сервер:
        - **Отсутствует** — не использовать шифрование;
        - **SSL**;
        - **TLS**.
    - **Интервал опроса** — укажите интервал, с которым **{{ productName }}** будет проверять наличие новых писем.

1. Нажмите кнопку «**Проверить соединение**», чтобы проверить соединение с IMAP-сервером.
2. Нажмите кнопку «**Скачать журнал**», чтобы просмотреть журнал событий получения писем.
3. Сохраните подключение.

_![Настройка свойств подключения для получения эл. через IMAP](imap_receiving_connection_properties_settings.png)_

## Настройка пути передачи данных типа для получение эл. почты

1. На странице «**Администрирование**» — «**[Пути передачи данных][communication_routes]**» создайте или откройте путь передачи данных типа «**Получение эл. почты через IMAP**».
2. Настройте свойства пути передачи данных.
3. Сохраните путь передачи данных.

### Основные свойства

- **Подключение** — выберите [подключение для получения эл. почты из сценариев через SMTP или Exchange](#).
- **Системное имя** — введите уникальное имя пути передачи данных. Рекомендуются буквы латинского алфавита, цифры и символ «_».
- **Отключить** — установите этот флажок, если требуется временно деактивировать данный путь передачи данных.
- **Описание** — введите наглядное описание пути передачи данных, например «Путь для получения писем».
- **Номер шины данных** — выберите номер от 0 до 3, если требуется распределить потоки данных нескольких путей для повышения производительности.

### Атрибуты сообщений

На вкладке «Атрибуты сообщения» настройте атрибуты, значения которых будут подставляться в содержимое в эл. письма.

Значения атрибутов сообщения необходимо присвоить с помощью сценария.

В таблице «Запрос» имеются готовые атрибуты сообщения в виде массивов объектов:

- **To** — получатели писем.
  - **Name** — имя получателя.
  - **Address** — адрес эл. почты.
- **Attachments** — прикреплённые файлы.
    - **Name** — название файла.
    - **Extension** — расширение файла.
    - **Content** — содержимое файла.
- **Cc** — копии.
    - **Name** — имя получателя.
    - **Address** — адрес эл. почты.
- **Bcc** — скрытые копии.
    - **Name** — имя получателя.
    - **Address** — адрес эл. почты.
- **CustomHeaders** — дополнительные заголовки.
    - **Name** — имя заголовка.
    - **Value** — значение заголовка.
    - **ListValues** — массив неименованных значений.

--8<-- "related_topics_heading.md"

**[Получение эл. почты в процессе. Настройка подключения и пути передачи данных][process_receiving_connection]**

**[Отправка эл. почты через SMTP. Настройка подключения][smtp_sending_connection]**

**[Отправка эл. почты из процесса. Настройка подключения][process_sending_connection]**

**[Подключения. Типы, создание, настройка, удаление][connections]**

**[Пути передачи данных. Типы, создание, настройка, удаление][communication_routes]**

{%
include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md"
%}
