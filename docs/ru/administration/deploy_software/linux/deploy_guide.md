---
title: Развертывание {{ productName }}. Краткое руководство
kbId: 2344
---

# Развертывание {{ productName }}. Краткое руководство

## Введение

Для работы **Comindware Business Application** Platform требуются операционная система, сервер базы данных, веб-сервер, обратный прокси-сервер и сервер журналов.

Для быстрого развертывания {{ productName }} в среде Linux компания **Comindware** предоставляет дистрибутив с установщиком, настраивающим необходимое программное обеспечение. См. статью «[{{ productName }} 4.7. Перечень стороннего программного обеспечения для Linux](https://kb.comindware.ru/article.php?id=2398)».

В настоящем документе представлены инструкции по развертыванию и инициализации **{{ productName }}** из дистрибутива в операционных системах Альт Сервер, Astra Linux 1.7.0,  РЕД ОС, Rocky Linux и Ubuntu Server 22.04.

## Установка и запуск {{ productName }}

1. Перейдите в режим суперпользователя:


```
sudo -i
```


или


```{{ productName }}
su -
```
2. Скачайте и распакуйте дистрибутив **Comindware Business Application Platform** по ссылке, предоставленной компанией Comindware (`X.X.XXXX.X` — номер версии ПО):


```
tar -xf X.X-release-ru-X.X.XXXX.X.alt.tar.gz
```

или


```
tar -xf X.X-release-ru-X.X.XXXX.X.astra.tar.gz
```

или


```
tar -xf X.X-release-ru-X.X.XXXX.X.debian.tar.gz
```

или

```
tar -xf X.X-release-ru-X.X.XXXX.X.redos.tar.gz
```

или

```
tar -xf X.X-release-ru-X.X.XXXX.X.rocky.tar.gz
```

или

```
tar -xf X.X-release-ru-X.X.XXXX.X.ubuntu.tar.gz
```
3. 
4. 
5. Перейдите в распакованную папку:


```
cd CMW_Alt/
```

или


```
cd CMW_Astra/
```

или

```
cd CMW_Debian/
```

или

```
cd CMW_Rocky/
```

или

```
cd CMW_Redos/
```

или

```
cd CMW_Ubuntu_22.04/
```
6. Установите ПО из дистрибутива:


```{{ productName }}
sh install.sh -p -k [-i=<instanceNa{{ productName }}w-data]  
{{ productName }}
```

Скрипт `install.sh` поддерживает следующие ключи:

	- `k` — установить ПО Kafka;
	- `e` — установить ПО Elasticsearch;
	- `p` — установить ПО Comindware Business Application Platform;
	- `d=demo` — создать экземпляр ПО Comindware Business Application Platform c демонстрационной базой данных (необязательный ключ по умолчанию);
	- `d=clear` — создать экземпляр ПО Comindware Business Application Platform без демонстрационной базы данных;
	- `u` — пользователь (необязательный ключ);
	- `g` — группа (необязательный ключ);
	- `h` — вызов краткой справки по использованию скрипта (этот ключ следует указывать только без остальных ключей);
	- `kh=hostname` — использовать указанный хост для подключения к ПО Kafka (необязательный ключ);
	- `kp=portnumber` — использовать указанный порт для подключения к ПО Kafka (необязательный ключ);
	- `i=<instanceName>` — создать экземпляр ПО с указанным именем (необязательный ключ). Имя экземпляра по умолчанию: `cmwdata`.

	
	Внимание!
	
	
	Если при установке ПО вы не создадите экземпляр (то есть опустите ключ `i=<instanceName>`), то впоследствии невозможно будет создать экземпляр с помощью скрипта `install.sh`.
	
	
	Для создания экземпляра ПО при наличии установленной версии используйте скрипт `create.sh`, выполните следующие команды:
	
	
	
	```
	cd CMW_Ubuntu_22.04/scripts/instance  
	  
	sh create.sh -n=<instanceName> [-p=<portNumber>] -v=<versionNumber>  
	
	```
	
	
		- `-n=<instanceName>` — создать экземпляр ПО с указанным именем (**обязательный** ключ);
		- `-p=<portNumber>` — создать экземпляр ПО с указанным именем (необязательный ключ). Порт по умолчанию: 80;
		- `-v=<versionNumber>` — номер установленной версии ПО вида: `X.X.XXXX.X` (например: 4.7.2222.0);
		- `-h` — вызов краткой справки по использованию скрипта (этот ключ следует указывать только без остальных ключей);
7. Если отобразится запрос на перезагрузку ОС, выполните перезагрузку:   

```
reboot
```


После перезагрузки ОС заново запустите [установку ПО из дистрибутива (шаг 6)](#install.sh).
8. Дождитесь завершения установки ПО.
9. Удостоверьтесь, что основные сервисы установлены, запущены и имеют статус `Active (running)`:   

```
systemctl status comindware<instanceName>  
systemctl status kafka  
systemctl status nginx  
systemctl status elasticsearch 
```

Здесь `<instanceName>` — имя экземпляра ПО.
10. Если какой-ли{{ productName }}

```
systemctl start comindware<instanceName>  {{ productName }}
systemctl start kafka  {{ productName }}
systemctl start nginx  
systemctl start elasticsearch  

```
11. После успешного завершения установки подождите 3–5 минут. Этого времени обычно достаточно для автоматического запуска и инициализации установленных служб (в зависимости от конфигурации машины).

## Инициализация Comindware Business Application Platform

1. Запустите веб-браузер и в адресной строке введите: `localhost`
2. Дождитесь запуска и отображения веб-сайта **Comindware Business Application Platform**, что может занять примерно 5 минут.
3. Откроется страница создания аккаунта администратора **Comindware Business Application Platform**.


![Страница создания аккаунта администратора](https://kb.comindware.ru/assets/Picture14.png)

Страница создания аккаунта администратора
4. Введите учётные данные аккаунта администратора и нажмите кнопку «**Создать аккаунт**».


Внимание!

	- В экземпляре ПО всегда должен оставаться хотя бы один аккаунт администратора. Он может потребоваться для восстановления системы.
	- Аккаунт администратора, созданный при инициализации экземпляра ПО, не следует удалять, даже если впоследствии аккаунты будут синхронизироваться с Active Directory.
5. Если при установке продукта был указан ключ `-d=demo`, откроется страница инициализации системы.

![Страница инициализации системы](https://kb.comindware.ru/assets/img_63452e8529cca.png)

Страница инициализации системы
6. Если при установке продукта был указан ключ `-d=clear` или этот ключ был опущен, откроется страница активации ПО.


![Страница активации продукта](https://kb.comindware.ru/assets/Picture15.png)

Страница активации продукта
7. Для первоначального ознакомления с ПО этап активации можно пропустить, нажав кнопку «**Пропустить**».
8. При необходимости откроется страница настройки подключения к службе Elasticsearch.
{{ productName }}

![Настройка подключен{{ productName }}e.ru/assets/Picture16.png)

Настройка подключен{{ productName }}
9. В поле «**URI**» введите адрес сервера Ela{{ productName }}9200`
10. Оставьте **Имя пользователя**и **Пароль** Elasticsearch пустыми. Или введите их, если в конфигурации Elasticsearch включена аутентификация.
11. Установите уникальный **Префикс индекса**. Он служит для идентификации в Elasticsearch данных экземпляра ПО. Поэтому во избежание конфликтов данных для каждого экземпляра ПО следует указывать собственный префикс индекса.
12. Нажмите кнопку «**Далее**».
13. При необходимости откроется страница инициализации данных в Elasticsearch.


![Страница инициализации данных в Elasticsearch](https://kb.comindware.ru/assets/Picture17.png)

Страница инициализации данных в Elasticsearch
14. Нажмите кнопку «**Обновить**».
15. Дождитесь открытия начальной страницы **Comindware Business Application Platform**.


![Начальная страница Comindware Business Application Platform](https://kb.comindware.ru/assets/img_63452e9321257.png)

Начальная страница Comindware Business Application Platform
16. На этом этапе развертывание экземпляра **Comindware Business Application Platform** завершено и можно приступать к созданию и использованию бизнес-приложений.



