---
title: Урок 10. Работа с файлами
kbId: 4866
---

# Урок 10. Работа с файлами {: #lesson_10 }

## Введение

Из этого урока вы узнаете, как загружать в систему и скачивать файлы: документы и изображения.

**Предусловие:** пройден [Урок 9.  Формирование документов][lesson_9].

**Расчётная продолжительность:** 10 мин.

{% include-markdown ".snippets/tutorial_version_notice.md" %}

## Загрузка документов и изображений

Чтобы водитель, выполняющий рейс, мог загружать в систему сканы квитанций и другие документы, следует добавить соответствующий атрибут на экранную форму.

Добавим атрибут типа «**Документ**» в шаблон *«Затраты»*…

1. Перейдите на вкладку «**Атрибуты**» шаблона *«Затраты»*.
2. Создайте атрибут *«Приложение»* с **типом данных** «**Документ**».
3. Установите флажок «**Хранить несколько значений**», чтобы к записи можно было прикреплять несколько файлов одновременно.
4. Сохраните атрибут.

    _![Создание атрибута типа <i>«Документ»</i>](https://kb.comindware.ru/assets/img_6317ce3eebdfe.png)_

Добавим созданный атрибут в таблицу затрат на форме задачи *«Выполнить рейс»*…

1. Перейдите к вкладке «**Диаграмма**» шаблона процесса *«Заказ автотранспорта»* нажмите кнопку «**Редактировать**».
2. Выберите задачу *«Выполнить рейс»* и в меню элемента нажмите кнопку «**Форма**».
3. На панели элементов разверните шаблоны *«Заявки на автомобили»* и *«Затраты»*.
4. Перетащите атрибут *«Приложение»* на форму в таблицу *«Затраты»*.
5. Сохраните форму.

    _![Добавление атрибута типа «Документ» на экранную форму](https://kb.comindware.ru/assets/img_6317cf4a7c256.png)_

6. Вернитесь к диаграмме процесса и опубликуйте ее.

## Тестирование загрузки документа

1. Создайте новую заявку на автомобиль и пройдите бизнес-процесс до задачи *«Выполнить рейс»*.

!!! note "Примечание"

    Для тестирования работы бизнес-приложения вы можете выполнять пользовательские задачи одним из трех способов:

    - войти в систему несколько раз с разными учетными записями: *Заказчик, Секретарь, Водитель, Диспетчер*;
    - создать заявку на автомобиль, затем открыть диаграмму запущенного бизнес-процесса *«Заказ автотранспорта»* и переходить к задачам с помощью кнопки «**Перейти**» ![Перейти](https://kb.comindware.ru/assets/img_6317cf670d9c3.png)  в панели «**Токены**» ;
    - назначить себя исполнителем всех пользовательских задач.

2. На форме задачи *«Выполнить рейс»* создайте запись в таблице *«Затраты»*.
3. Загрузите текстовый документ к созданной записи. Для этого нажмите в строке затраты поле *«Приложение»* и нажмите кнопку «**Добавить документ**».
4. Создайте еще одну запись в коллекции *«Затраты»*
5. Загрузите изображение ко второй записи затрат.
6. Нажмите кнопку «**Сохранить**».
7. Проверим возможность скачивания загруженных документов с сохраненной формы…
8. Нажмите название загруженного текстового документа или изображения в коллекции затрат. Браузер скачает прикрепленный файл.

_![Загрузка в систему и скачивание файла с помощью экранной формы](https://kb.comindware.ru/assets/img_6317d1a7c99ba.png)_

## Результаты

Вы научились работать с файлами: загружать в систему и скачивать документы и изображения.

{% include-markdown ".snippets/hyperlinks_mkdocs_to_kb_map.md" %}
