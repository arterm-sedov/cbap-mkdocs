<div class="md-body" data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr" kb-id="4874">
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<nav aria-label="Содержание" class="md-nav md-nav--secondary">
<div class="mce-toc">
<h2 class="toc-heading">
      Содержание
      </h2>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#введение">
<span class="md-ellipsis">
      Введение
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#создание-шаблона-процесса">
<span class="md-ellipsis">
      Создание шаблона процесса
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#диаграмма-бизнес-процесса">
<span class="md-ellipsis">
      Диаграмма бизнес-процесса
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#построение-диаграммы-бизнес-процесса">
<span class="md-ellipsis">
      Построение диаграммы бизнес-процесса
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#настройка-форм-пользовательских-задач">
<span class="md-ellipsis">
      Настройка форм пользовательских задач
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#настройка-развилок">
<span class="md-ellipsis">
      Настройка развилок
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#настройка-исполнителей-задач">
<span class="md-ellipsis">
      Настройка исполнителей задач
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#проверка-и-публикация-процесса">
<span class="md-ellipsis">
      Проверка и публикация процесса
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#тестирование-запуск-бизнес-процесса-и-мои-задачи">
<span class="md-ellipsis">
      Тестирование: запуск бизнес-процесса и «Мои задачи»
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link mkdocs_imported_link" href="#результаты">
<span class="md-ellipsis">
      Результаты
    </span>
</a>
</li>
</ul>
</div>
</nav>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h2 id="введение">Введение</h2>
<p>Усовершенствуем приложение, созданное в предыдущем уроке, — создадим автоматизированный процесс заказа корпоративного автотранспорта: <em>Заказчик</em> создает заявку, <em>Секретарь</em> согласовывает заявку, после чего одобренная заявка переходит к <em>сотруднику Гаража</em>, который принимает заявку и, в зависимости от наличия автомобилей в гараже, либо выполняет рейс, либо отказывает в заявке.</p>
<p><strong>Предусловия:</strong></p>
<ul>
<li>Пройден <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4873">Урок 2. Мой первый реестр данных</a>:<ul>
<li>создан реестр данных (<strong>шаблон записи</strong>) <em>«Заявка на автомобиль»</em>;</li>
<li>создана экранная форма.</li>
</ul>
</li>
</ul>
<p><strong>Расчетная продолжительность:</strong> 20 мин.</p>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>В данном уроке представлен продукт <strong>Comindware Platform</strong> версии 5.0, внешний вид страниц и меню в других версиях продукта может отличаться.</p>
</div>
<div class="notice notice-success">
<p class="admonition-title">Определения</p>
<ul>
<li>Исполняемый бизнес-процесс — это процесс, автоматизированный с помощью программного обеспечения, например системы управления бизнес-процессами (BPMS) <strong>Comindware Platform</strong>.</li>
<li>Исполняемый бизнес-процесс определяет кто, что и в какой последовательности должен сделать, а также обеспечивает оперативную передачу «дела» между подразделениями. Таким образом, система берет на себя контроль за всем процессом от заявки до закрытия «дела».</li>
<li>Процессы в <strong>Comindware Platform</strong> могут взаимодействовать друг с другом, а также с внешними ресурсами, такими как серверы электронной почты и веб-сервисы.</li>
<li>Исполняемый бизнес-процесс служит заменой электронной почты и Excel, позволяет упростить и автоматизировать документооборот, а также автоматически формировать документы по шаблонам.</li>
<li>Исполняемый бизнес-процесс можно назвать «интерактивным регламентом». Традиционный регламент-документ предназначен для того, чтобы сотрудники периодически с ним сверялись, чтобы понять, что делать. В случае исполняемого бизнес-процесса координацией занимается компьютер.</li>
<li>Настройка исполняемого бизнес-процесса в <strong>Comindware Platform</strong> выполняется с помощью шаблона процесса.</li>
<li>Шаблон процесса состоит из <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4710">диаграммы процесса</a> в нотации BPMN 2.0, данных и других свойств, определяющих, как должны выполняться все процессы определенного вида.</li>
<li><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4710">Диаграмма бизнес-процесса</a> в нотации BPMN загружается в BPMS, и система следует ей, раздавая задания людям и вызывая функции информационных систем.</li>
<li>Исполняемый процесс позволяет повысить эффективность работы:<ul>
<li>«дело» передается от одного сотрудника другому оперативно, безошибочно, вместе со всеми относящимися к нему данными;</li>
<li>процесс гарантированно выполняется по утвержденной схеме, контролировать это не требуется;</li>
<li>показатели процесса автоматически измеряются и выводятся на экран менеджеров в наглядном виде.</li>
</ul>
</li>
<li>Исполняемый бизнес-процесс имеет некоторое сходство с документооборотом, но это более совершенная форма автоматизации:<ul>
<li>информация хранится не в документах Word или PDF, а в виде структурированных данных (числа, даты, текстовые данные);</li>
<li>маршрут процесса можно прописать более точно, чем это позволяют системы документооборота.
</li>
</ul>
</li>
</ul>
<p>
</p>
</div>
<h2 id="создание-шаблона-процесса">Создание шаблона процесса</h2>
<p>Перейдем к созданию шаблона процесса…</p>
<ol class="colored_numbers_list">
<li>На панели навигации слева выберите пункты «<strong>Настройки</strong>» — «<strong>Шаблоны</strong>».</li>
<li>Перейдите на вкладку «<strong>Шаблоны процессов</strong>».</li>
<li>Нажмите кнопку «<strong>Создать</strong>».</li>
<li>Введите название шаблона — <em>«Заказ автотранспорта»</em>.</li>
<li>Укажите приложение — <em>«Управление автопарком».</em></li>
<li>В поле «<strong>Связанный шаблон</strong>» выберите шаблон <em>«Заявка на автомобиль».</em></li>
<li>Нажмите кнопку «<strong>Создать</strong>».</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Создание шаблона бизнес-процесса" src="https://kb.comindware.ru/assets/img_624211d191c96.png"/><figcaption class="caption">Создание шаблона бизнес-процесса</figcaption></p>
</figure>
<h2 id="диаграмма-бизнес-процесса">Диаграмма бизнес-процесса</h2>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>При создании <strong>диаграммы</strong> (схемы) <strong>бизнес-процесса</strong> используется <strong>нотация BPMN 2.0</strong>.</p>
<p>Выбор BPMN объясняется достаточной простотой и понятностью для бизнеса, а однозначная интерпретация применяемых символов обеспечивает одинаковое понимание процесса бизнесом, аналитиком и ИТ-специалистами.</p>
</div>
<ol class="colored_numbers_list">
<li>Перейдите на вкладку «<strong>Диаграмма</strong>».</li>
<li>Отобразится конструктор диаграммы бизнес-процесса.</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Конструктор диаграммы бизнес-процесса" src="https://kb.comindware.ru/assets/img_6474b4fe24021.png"/><figcaption class="caption">Конструктор диаграммы бизнес-процесса</figcaption></p>
</figure>
<div class="notice notice-success">
<p class="admonition-title">Определения</p>
<p>Конструктор диаграммы бизнес-процесса состоит из трех частей, показанных на иллюстрации.</p>
<p><strong>(1)</strong> Панель элементов, которые можно добавить на схему:</p>
<ul>
<li>
<p><strong>Действия</strong> — задачи и подпроцессы:</p>
<ul>
<li><strong>задачи</strong> — <strong>пользовательские</strong> (ввод данных участником процесса через экранную форму) и автоматические (выполнение сценария, вызов сервиса);</li>
<li><strong>подпроцессы</strong> — <strong>вызов процесса</strong> и <strong>встроенный подпроцесс</strong>;</li>
</ul>
</li>
<li>
<p><strong>События</strong> — <strong>начальное, промежуточное и конечное</strong>;</p>
</li>
<li><strong>Развилки</strong>— «<strong>или/или</strong>», «<strong>и</strong>» (параллельная);</li>
<li><strong>Общие элементы</strong> — <strong>дорожка</strong>, <strong>поток управления</strong>, <strong>комментарий</strong>.</li>
</ul>
<p><strong>(2)</strong> <strong>Диаграмма</strong> (графическая схема) бизнес-процесса.</p>
<p><strong>(3)</strong> Кнопки: <strong>Выбрать версию</strong>, <strong>Очистить</strong>, <strong>Восстановить</strong>, <strong>Опубликовать</strong>, <strong>Проверить</strong>, <strong>Экспортировать</strong>.</p>
</div>
<h2 id="построение-диаграммы-бизнес-процесса">Построение диаграммы бизнес-процесса</h2>
<p>Перетащите элементы с левой панели на диаграмму.</p>
<p>Для начала добавим дорожки…</p>
<ol class="colored_numbers_list">
<li>
<p>Перетащите три дорожки на схему процесса. Элемент «<strong>Дорожка</strong>» расположен в группе «<strong>Общие элементы</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Перетаскивание дорожек на диаграмму бизнес-процесса" src="https://kb.comindware.ru/assets/img_6474b5d703bee.png"/><figcaption class="caption">Перетаскивание дорожек на диаграмму бизнес-процесса</figcaption></figure></p>
</li>
<li>
<p>Присвойте дорожкам названия: <em>Заказчик, Секретарь, Гараж.</em></p>
</li>
<li>
<p>Для переименования дорожки выберите дорожку и в раскрывающемся меню элемента нажмите кнопку «<strong>Свойства</strong>» <em>‌</em>.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Переименование дорожек" src="https://kb.comindware.ru/assets/img_6474b60ff00c9.png"/><figcaption class="caption">Переименование дорожек</figcaption></figure></p>
</li>
<li>
<p>В отобразившемся окне «<strong>Свойства дорожки</strong>» введите новое название и нажмите кнопку «<strong>Сохранить</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Свойства дорожки" src="https://kb.comindware.ru/assets/img_630cf6afe2115.png"/><figcaption class="caption">Свойства дорожки</figcaption></figure></p>
<div class="notice notice-success">
<p class="admonition-title">Определения</p>
<p><strong>Дорожка</strong> используется для визуального представления участников процесса. Дорожки могут настраиваться произвольным образом по усмотрению проектировщика процесса, но чаще всего это либо подразделение, либо должность, либо роль. Например, в нашем процессе <em>Заказчик</em> — это роль (заказчик может быть из любого подразделения), <em>Гараж</em> — подразделение, <em>Секретарь</em> — должность.</p>
</div>
</li>
<li>
<p>Удалите конечное событие. Для этого выберите его и в меню элемента нажмите кнопку «<strong>Удалить</strong>» <em>‌</em>.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Удаление элементов диаграммы" src="https://kb.comindware.ru/assets/img_6474bb4fe8bcb.png"/><figcaption class="caption">Удаление элементов диаграммы</figcaption></figure></p>
</li>
<li>
<p>Перетащите элемент «<strong>Пользовательская задача</strong>» из раздела «<strong>Действия</strong>» с левой панели на дорожку «Секретарь».*</p>
<div class="notice notice-success">
<p class="admonition-title">Определения</p>
<p><strong>Пользовательская задача</strong> представляет собой задачу, выполняемую человеком. При переходе процесса на этот шаг задача автоматически назначается исполнителю или становится доступной для нескольких исполнителей.</p>
</div>
</li>
<li>
<p>Укажите название задачи — <em>«Согласовать заявку»</em>. Для этого дважды щелкните имя задачи.</p>
</li>
<li>Присоедините поток управления от начального события к пользовательской задаче <em>«Согласовать заявку».</em></li>
<li>Перетащите элемент «<strong>Развилка</strong> «<strong>или/или</strong>» на диаграмму и соедините его с задачей <em>«Согласовать заявку».</em></li>
<li>Присоедините к развилке два потока управления.</li>
<li>
<p>Присвойте развилке название — <em>«Одобрена?»</em>. Для этого дважды щелкните развилку и введите ее название или нажмите кнопку «<strong>Свойства</strong>» <em>‌</em>в меню элемента.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Диаграмма бизнес-процесса — развилка «или/или»" src="https://kb.comindware.ru/assets/img_6474bc1892f2b.png"/><figcaption class="caption">Диаграмма бизнес-процесса — развилка «или/или»</figcaption></figure></p>
<div class="notice notice-success">
<p class="admonition-title">Определения</p>
<p><strong>Развилка «или/или»</strong> используется для описания альтернативных потоков процесса, когда может быть выбран только один из путей.
Для каждого потока, выходящего из развилки, (для каждой стрелки) указывается условие (логическое выражение), определяющее, когда по нему пойдет процесс.
Кроме того, можно выбрать поток «<strong>иначе</strong>» (по умолчанию), по которому процесс пойдет в том случае, если ни одно из условий на стрелках не выполнено.
Если <em>Секретарь</em> отказал в заявке, то <em>Заказчик</em> получает уведомление об этом, после чего процесс завершится. Если заявка одобрена <em>Секретарем</em>, то дальше её согласовывает <em>сотрудник Гаража</em>.</p>
</div>
</li>
<li>
<p><strong>Покажем это на схеме...</strong></p>
</li>
<li>От развилки «Одобрена?» добавьте две пользовательских задачи: <em>«Вам отказано»</em> на дорожку <em>«Заказчик»</em> и <em>«Принять заявку»</em> на дорожку <em>«Гараж»</em>.</li>
<li>Выберите развилку и в меню элемента нажмите кнопку «<strong>Свойства</strong>» <em>‌</em>. Отобразится окно «<strong>Свойства развилки</strong> «<strong>или/или</strong>».</li>
<li>
<p>На вкладке «<strong>Дополнительные</strong>» укажите названия исходящих потоков — <em>«Да»</em> и <em>«Нет»</em>, дважды щелкнув соответствующие поля. Нажмите кнопку «<strong>Сохранить</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Дополнительные свойства развилки" src="https://kb.comindware.ru/assets/img_62421ddb915ae.png"/><figcaption class="caption">Дополнительные свойства развилки</figcaption></figure></p>
</li>
<li>
<p>От задачи <em>«Вам отказано»</em> добавьте конечное событие.</p>
</li>
<li>
<p>Введите название конечного события — <em>«Отказ»</em>.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Диаграмма бизнес-процесса с задачами «Согласовать заявку», «Принять заявку», «Вам отказано» и конечным событием «Отказ»" src="https://kb.comindware.ru/assets/img_630cfa4f951d0.png"/><figcaption class="caption">Диаграмма бизнес-процесса с задачами «Согласовать заявку», «Принять заявку», «Вам отказано» и конечным событием «Отказ»</figcaption></figure></p>
<div class="notice notice-success">
<p class="admonition-title">Определения</p>
<p><strong>События в BPMN</strong> можно трактовать как статусы процесса — старт, промежуточные вехи, варианты завершения. Начальное событие у процесса, как правило, один, а конечных событий несколько — процесс может завершиться как успехом, так и неудачей.</p>
<p>После принятия заявки сотрудник <em>Гаража</em> проверяет наличие автомобиля для выполнения заявки — при отсутствии автомобиля заявка возвратится <em>Секретарю</em>.</p>
</div>
</li>
<li>
<p>От задачи <em>«Принять заявку»</em> добавьте элемент «<strong>Развилка</strong> «<strong>или/или</strong>».</p>
</li>
<li>Добавьте соединительную линию от развилки к задаче <em>«Согласовать заявку».</em></li>
<li>
<p>Укажите имя развилки — <em>«Есть машина?».</em></p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Развилка «Есть машина?»" src="https://kb.comindware.ru/assets/img_630cfacf012e3.png"/><figcaption class="caption">Развилка «Есть машина?»</figcaption></figure></p>
<p>При наличии машины <em>Заказчик</em> получит уведомление <em>«Машина выделена»</em>, а <em>сотрудники Гаража</em> приступят к выполнению рейса.</p>
</li>
<li>
<p>Добавьте элемент «<strong>Развилка</strong> «<strong>и</strong>» от развилки <em>«Есть машина?»</em>.</p>
<div class="notice notice-success">
<p class="admonition-title">Определения</p>
<p><strong>Развилка «и»</strong> (параллельная) используется для разделения потока на несколько путей, которые будут выполняться одновременно.</p>
</div>
</li>
<li>
<p>От <strong><em>развилки «и»</em></strong> добавьте две пользовательских задачи: для <em>Заказчика</em> — <em>«Машина выделена»</em> и для сотрудника <em>Гаража</em> — <em>«Выполнить рейс»</em>.</p>
</li>
<li>Укажите названия для исходящих потоков от развилки <em>«Есть машина?» — «Да»</em> и <em>«Нет»</em>.</li>
<li>Добавьте еще одну <strong>развилку «и»</strong> и соедините с ней задачи <em>«Машина выделена»</em> и <em>«Выполнить рейс»</em>.</li>
<li>Добавьте конечное событие и назовите его <em>«Успех».</em></li>
<li>
<p>В итоге должна получиться следующая диаграмма:</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Диаграмма бизнес-процесса заказа автотранспорта" src="https://kb.comindware.ru/assets/img_630cf4c1ba376.png"/><figcaption class="caption">Диаграмма бизнес-процесса заказа автотранспорта</figcaption></figure></p>
</li>
</ol>
<div class="notice notice-warning">
<p class="admonition-title">Логика бизнес-процесса</p>
<p>Чтобы закрепить пройденный материал, опишем диаграмму бизнес-процесса словами.</p>
<ol class="colored_numbers_list">
<li><em>Заказчик</em> создает заявку.</li>
<li><em>Секретарь</em> согласовывает заявку:<ol class="colored_numbers_list">
<li>если <em>Секретарь</em> одобрил заявку, то выполняется шаг 4;</li>
<li>если <em>Секретарь</em> отклонил заявку, то выполняется шаг 3.</li>
</ol>
</li>
<li>Заказчик получает уведомление о том, что ему отказано в заявке. Процесс заказа автотранспорта завершается отказом.</li>
<li>Сотрудник <em>Гаража</em> принимает заявку:<ol class="colored_numbers_list">
<li>в случае наличия машины он передает заявку на выполнение <em>Водителю</em> — выполняется шаг 5;</li>
<li>в случае отсутствия машины заявка возвращается <em>Секретарю</em> — на шаг 2.</li>
</ol>
</li>
<li><em>Заказчик</em> получает уведомление о том, что машина выделена, а <em>Водитель</em> приступает к выполнению рейса.</li>
<li>Процесс завершается успехом.</li>
</ol>
</div>
<h2 id="настройка-форм-пользовательских-задач">Настройка форм пользовательских задач</h2>
<p>Для начала нам настроим стартовую форму, которая будет отображаться для <em>Заказчика</em> при запуске процесса.</p>
<ol class="colored_numbers_list">
<li>
<p>Выберите на диаграмме «<strong>Начальное событие</strong>» и в раскрывшемся меню элемента нажмите кнопку «<strong>Стартовая форма</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Настройка стартовой формы" src="https://kb.comindware.ru/assets/img_6242c88d61712.png"/><figcaption class="caption">Настройка стартовой формы</figcaption></figure></p>
</li>
<li>
<p>Откроется конструктор стартовой формы.</p>
</li>
<li>
<p>Для формы задачи используем созданную ранее форму для согласования заявки.</p>
</li>
<li>
<p>Перетащите с панели элементов форму <em>«Заявка на автомобиль — Основная форма»</em> на макет формы. Нажмите кнопку «<strong>Сохранить</strong>». Вернитесь к диаграмме процесса, нажав кнопку «<strong>Назад</strong>» в браузере.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Настройка и сохранение стартовой формы" src="https://kb.comindware.ru/assets/img_6242c79bcc30c.png"/><figcaption class="caption">Настройка и сохранение стартовой формы</figcaption></figure></p>
</li>
<li>
<p>Теперь настроим форму пользовательской задачи, которая будет отображаться исполнителю — <em>Секретарю</em>.</p>
</li>
<li>
<p>Выберите задачу <em>«Согласовать заявку»</em> и в меню элемента нажмите кнопку «<strong>Форма</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Настройка формы задачи" src="https://kb.comindware.ru/assets/img_630dd9be8f57a.png"/><figcaption class="caption">Настройка формы задачи</figcaption></figure></p>
</li>
<li>
<p>Отобразится конструктор формы задачи.</p>
</li>
<li>
<p>Разверните элемент <em>«Заявка на автомобиль»</em> на панели элементов слева и перетащите форму <em>«Заявка на автомобиль — Основная форма»</em> на макет формы.</p>
</li>
<li>
<p>Поля формы заявки должны быть недоступны для редактирования, поэтому изменим режим доступа к ним.</p>
</li>
<li>Выберите добавленную форму заявки и на панели свойств укажите режим <strong>доступа</strong> «<strong>Только чтение</strong>».</li>
<li>Перетащите на макет формы под форму заявки на автомобиль элемент «<strong>Область</strong>» и присвойте ей название <em>«Одобрение»</em> с помощью панели свойств.</li>
<li>Перетащите в область <em>«Одобрение»</em> атрибут <em>«Одобрено»</em> из панели элементов.</li>
<li>
<p>Сохраните форму и вернитесь к схеме процесса, нажав кнопку «<strong>Назад</strong>» в браузере.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Создание формы для задачи «Согласование заявки»" src="https://kb.comindware.ru/assets/img_6242ca5762591.png"/><figcaption class="caption">Создание формы для задачи «Согласование заявки»</figcaption></figure></p>
</li>
</ol>
<p><strong>Перейдем к настройке формы задачи, которую будет выполнять сотрудник гаража...</strong></p>
<ol class="colored_numbers_list">
<li>Выберите задачу <em>«Принять заявку»</em> на диаграмме процесса и в меню элемента нажмите кнопку «<strong>Форма</strong>». Отобразится конструктор формы.</li>
<li>Перетащите форму <em>«Заявка на автомобиль — Основная форма»</em>на макет формы.</li>
<li>
<p>Укажите для дочерней формы режим <strong>доступа</strong> « <strong>Только чтение</strong>», чтобы сотрудник гаража не мог редактировать заявку.</p>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
</div>
<p>Вы можете добавлять атрибуты «на лету», например во время создания экранной формы.
Сотрудник <em>Гаража</em> должен принять или отклонить заявку в зависимости от наличия автомобилей в гараже. Поэтому добавим соответствующий атрибут.</p>
</li>
<li>
<p>Нажмите кнопку «<strong>Добавить атрибут</strong>» <em>‌</em> рядом с пунктом <em>«Заявка на автомобиль».</em></p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Добавление атрибута на лету" src="https://kb.comindware.ru/assets/img_6242cf399e118.png"/><figcaption class="caption">Добавление атрибута на лету</figcaption></figure></p>
</li>
<li>
<p>В отобразившемся окне свойств атрибута выберите <strong>тип данных</strong> «<strong>Логический</strong>» и укажите название <em>«Принято»</em>.</p>
</li>
<li>
<p>Нажмите кнопку «<strong>Сохранить</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Создание и сохранение нового логического атрибута" src="https://kb.comindware.ru/assets/img_6242d05396bea.png"/><figcaption class="caption">Создание и сохранение нового логического атрибута</figcaption></figure></p>
</li>
<li>
<p>Перетащите на макет формы элемент «<strong>Область</strong>» и переименуйте её в <em>«Принятие заявки»</em> с помощью панели свойств.</p>
</li>
<li>Перетащите созданный атрибут <em>«Принято»</em> на область <em>«Принятие заявки».</em></li>
<li>Выберите поле <em>«Принято»</em> и на панели свойств укажите способ отображения: «<strong>Отображать как</strong>» — «<strong>Переключатель</strong>».</li>
<li>
<p>Нажмите кнопку «<strong>Сохранить</strong>» и вернитесь к схеме процесса с помощью кнопки «<strong>Назад</strong>» браузера.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Добавление на форму логического элемента и настройка способа его отображения" src="https://kb.comindware.ru/assets/img_6242ea7cef096.png"/><figcaption class="caption">Добавление на форму логического элемента и настройка способа его отображения</figcaption></figure></p>
</li>
</ol>
<p>Если заявка не была одобрена, <em>Заказчик</em> должен быть проинформирован об этом, поэтому форма пользовательской задачи в этом случае содержит только текст <em>«Вам отказано»</em> и данные заявки.</p>
<ol class="colored_numbers_list">
<li>Выберите на диаграмме процесса задачу <em>«Вам отказано»</em> и в меню элемента нажмите кнопку «<strong>Форма</strong>». Отобразится конструктор формы.</li>
<li>Перетащите на макет формы новую <strong>область</strong> и переименуйте её в «Вам отказано» с помощью панели свойств.</li>
<li>На левой панели разверните элемент <em>«Заявка на автомобиль»</em> и перетащите форму <em>«Заявка на автомобиль — Основная форма»</em> под область <em>«Вам отказано».</em></li>
<li>На панели свойств формы укажите режим <strong>доступа</strong> «<strong>Только чтение</strong>».</li>
<li>
<p>Сохраните форму и вернитесь к диаграмме процесса.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt=" Установка для формы режима доступа «Только чтение» " src="https://kb.comindware.ru/assets/img_6242eb4550d79.png"/><figcaption class="caption"> Установка для формы режима доступа «Только чтение» </figcaption></figure></p>
</li>
<li>
<p>Аналогичным образом настройте форму для задачи <em>«Машина выделена»</em> — добавьте на форму область <em>«Машина выделена»</em> и дочернюю форму <em>«Заявка на автомобиль — Основная форма»</em>. Установите для дочерней формы режим <strong>доступа</strong> «<strong>Только для чтения</strong>». Сохраните форму и вернитесь к диаграмме процесса.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Настройка формы задачи «Машина выделена»" src="https://kb.comindware.ru/assets/img_6242eda939124.png"/><figcaption class="caption">Настройка формы задачи «Машина выделена»</figcaption></figure></p>
</li>
<li>
<p>Настройте форму для задачи <em>«Выполнить рейс»</em> — добавьте на форму область <em>«Выполнить рейс»</em> и  и дочернюю форму <em>«Заявка на автомобиль — Основная форма»</em>. Установите для дочерней формы режим <strong>доступа</strong> «<strong>Только для чтения</strong>». Сохраните форму и вернитесь к диаграмме процесса.</p>
</li>
</ol>
<h2 id="настройка-развилок">Настройка развилок</h2>
<p>Перейдем к настройке потоков управления после развилок. На нашей диаграмме есть две развилки — <em>«Одобрена?»</em> и <em>«Есть машина?»</em>.</p>
<ol class="colored_numbers_list">
<li>
<p>Выберите развилку <em>«Одобрена»</em> и в меню элемента нажмите кнопку «<strong>Свойства</strong>» <em>‌</em>. Откроется страница свойств развилки.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Переход к свойствам развилки" src="https://kb.comindware.ru/assets/img_630ddb236ffb9.png"/><figcaption class="caption">Переход к свойствам развилки</figcaption></figure></p>
</li>
<li>
<p>На вкладке «<strong>Дополнительные</strong>» для потока к задаче <em>«Вам отказано»</em> установите флажок «<strong>Поток</strong> «<strong>иначе</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Выбор потока «иначе»" src="https://kb.comindware.ru/assets/img_630ddbdd6ba96.png"/><figcaption class="caption">Выбор потока «иначе»</figcaption></figure></p>
<div class="notice notice-success">
<p class="admonition-title">Определения</p>
<p><strong>Поток управления</strong> «<strong>иначе</strong>» (по умолчанию) — это тот поток, по которому пойдет процесс в том случае, если условия на всех остальных потоках не выполняются (значение логического выражения — «ложь»).
Поток, по которому пойдёт процесс после развилки <em>«Одобрена?»</em>, задаёт логический атрибут <em>«Одобрено»</em>, который <em>Секретарь</em> заполняет при согласовании заявки.</p>
</div>
</li>
<li>
<p>Составим выражение для условия, при выполнении которого процесс пойдет дальше. Для этого нам потребуется системное имя атрибута <em>«Одобрено».</em></p>
</li>
<li>
<p>На вкладке «<strong>Дополнительные</strong>»  нажмите ячейку «<strong>Условие</strong>» в строке потока к задаче <em>«Принять заявку»</em>. Отобразится компактный редактор выражения.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Переход к настройке выражение для потока управления" src="https://kb.comindware.ru/assets/img_630ddd385695f.png"/><figcaption class="caption">Переход к настройке выражение для потока управления</figcaption></figure></p>
</li>
<li>
<p>Так как атрибут <em>«Одобрено»</em> логического типа, то при составлении выражения необходимо обратиться к его системному имени…</p>
</li>
<li>Введите символ <code>$</code> и в отобразившемся раскрывающемся списке дважды нажмите системное имя атрибута <code>Одобрено</code>.</li>
<li>Нажмите кнопку с зелёным флажком.</li>
<li>
<p>Нажмите кнопку «<strong>Сохранить</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Ввод и сохранение выражения для доступа к атрибуту «Одобрено» в потоке управления" src="https://kb.comindware.ru/assets/img_6242f148ce947.png"/><figcaption class="caption">Ввод и сохранение выражения для доступа к атрибуту «Одобрено» в потоке управления</figcaption></figure></p>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>Символ <code>$</code> используется, чтобы обратиться к тому или иному атрибуту текущего объекта. В данном случае мы сможем получить информацию о значении атрибута «Одобрено» — ложь или истина (<code>true</code> или <code>false</code>).</p>
</div>
</li>
</ol>
<p>Поток, по которому пойдёт процесс после развилки <em>«Есть машина?»</em>, задаёт логический атрибут <em>«Принято»</em>, который указывает сотрудник гаража.</p>
<ol class="colored_numbers_list">
<li>Выберите развилку <em>«Есть машина?»</em> и в меню элемента нажмите кнопку «<strong>Свойства</strong>».</li>
<li>Перейдите на вкладку «<strong>Дополнительные</strong>».</li>
<li>
<p>Введите для потока <em>«Да»</em> выражение с системным именем атрибута <em>«Принято»</em>. Нажмите кнопку с зелёным флажком.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Ввод и сохранение выражения для доступа к атрибуту «Принято» в потоке управления" src="https://kb.comindware.ru/assets/img_6242f3cfe1d9e.png"/><figcaption class="caption">Ввод и сохранение выражения для доступа к атрибуту «Принято» в потоке управления</figcaption></figure></p>
</li>
<li>
<p>Установите для потока к задаче «Согласовать заявку» флажок «<strong>Поток</strong> «<strong>иначе</strong>».</p>
</li>
<li>
<p>Нажмите кнопку «<strong>Сохранить</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Выбор потока управления по умолчанию и сохранение свойств развилки" src="https://kb.comindware.ru/assets/img_6245cae9309b2.png"/><figcaption class="caption">Выбор потока управления по умолчанию и сохранение свойств развилки</figcaption></figure></p>
</li>
</ol>
<h2 id="настройка-исполнителей-задач">Настройка исполнителей задач</h2>
<p>Укажем исполнителей для пользовательских задач…</p>
<ol class="colored_numbers_list">
<li>
<p>Выберите пользовательскую задачу «Согласовать заявку» и в меню элемента нажмите кнопку «<strong>Свойства</strong>» ‌.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Переход к странице настройки свойств задачи" src="https://kb.comindware.ru/assets/img_6245ca5d8ec98.png"/><figcaption class="caption">Переход к странице настройки свойств задачи</figcaption></figure></p>
</li>
<li>
<p>На вкладке «<strong>Дополнительные</strong>» выберите исполнителя в раскрывающемся списке «<strong>Исполнители</strong>».</p>
</li>
<li>
<p>Введите заголовок задачи <em>«Заказ автотранспорта — Согласовать заявку».</em></p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Выбор исполнителя задачи" src="https://kb.comindware.ru/assets/img_624307517bd57.png"/><figcaption class="caption">Выбор исполнителя задачи</figcaption></figure></p>
</li>
<li>
<p>Нажмите кнопку «<strong>Сохранить</strong>».</p>
</li>
</ol>
<p>Аналогично укажите <strong>исполнителей</strong> и <strong>заголовки задач</strong>: <em>«Принять заявку», «Выполнить рейс»</em> (для упрощения на этапе отладки процесса укажем исполнителем этих задач одного и того же пользователя).</p>
<p>Для задач <em>«Вам отказано»</em> и <em>«Машина выделена»</em> сделаем исполнителя вычисляемым — это должен быть пользователь, который инициировал процесс, то есть <em>Заказчик</em>.</p>
<ol class="colored_numbers_list">
<li>Выберите задачу <em>«Вам отказано»</em> и в меню элемента нажмите кнопку «<strong>Свойства</strong>» ‌. Отобразится окно «<strong>Свойства пользовательской задачи</strong>».</li>
<li>На вкладке «<strong>Дополнительные</strong>» в поле «<strong>Исполнители</strong>» выберите пункт «<strong>Атрибут</strong>».</li>
<li>Нажмите стрелку вниз в поле «<strong>Исполнители</strong>».</li>
<li>Выберите атрибут «<strong>Создатель</strong>» (<code>_creator</code>).</li>
<li>Введите <strong>заголовок задачи</strong> <em>«Заказ автотранспорта — Вам отказано».</em></li>
<li>
<p>Нажмите кнопку «<strong>Сохранить</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Назначение исполнителя задачи по атрибуту _creator " src="https://kb.comindware.ru/assets/img_6243086d0f8e3.png"/><figcaption class="caption">Назначение исполнителя задачи по атрибуту _creator </figcaption></figure></p>
<div class="notice notice-tip">
<p class="admonition-title">Системный атрибут «Создатель»</p>
<p>Мы использовали <strong>системный атрибут</strong> создателя шаблона процесса —  «<strong>Создатель</strong>» (<code>_creator</code>), чтобы указать в качестве исполнителя задачи пользователя, инициировавшего процесс.</p>
</div>
</li>
<li>
<p>Аналогичным образом задайте заголовок задачи и назначьте исполнителем инициатора процесса для задачи <em>«Машина выделена».</em></p>
</li>
</ol>
<h2 id="проверка-и-публикация-процесса">Проверка и публикация процесса</h2>
<p>Мы настроили шаблон бизнес-процесса. Чтобы изменения вступили в силу, его необходимо опубликовать. Диаграммы бизнес-процессов рекомендуется публиковать каждый раз после внесения изменений.</p>
<p>Перед публикацией следует проверить корректность диаграммы…</p>
<ol class="colored_numbers_list">
<li>
<p>Нажмите кнопку «<strong>Проверить</strong>» в конструкторе диаграммы процесса.</p>
<div class="notice notice-info">
<p class="admonition-title">Примечание</p>
<p>При возникновении ошибок элемент, в котором присутствует ошибка, подсвечивается красным цветом. Если диаграмма настроена правильно, то отобразится сообщение «<strong>Ошибок нет</strong>», после чего диаграмму можно публиковать.</p>
</div>
</li>
<li>
<p>Нажмите кнопку «<strong>Опубликовать</strong>».</p>
</li>
</ol>
<figure class="screenshot_with_caption">
<p><img alt="Проверка и публикация диаграммы " src="https://kb.comindware.ru/assets/img_6474bda89ce1d.png"/><figcaption class="caption">Проверка и публикация диаграммы </figcaption></p>
</figure>
<h2 id="тестирование-запуск-бизнес-процесса-и-мои-задачи">Тестирование: запуск бизнес-процесса и «Мои задачи»</h2>
<p>Мы настроили и опубликовали бизнес-процесс, теперь можем перейти к его тестированию в роли пользователя.</p>
<ol class="colored_numbers_list">
<li>
<p>Перейдите на вкладку «<strong>Свойства</strong>» шаблона процесса.</p>
</li>
<li>
<p>Нажмите кнопку «<strong>Перейти к экземплярам</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Переход к списку экземпляров бизнес-процесса" src="https://kb.comindware.ru/assets/img_62430417c72be.png"/><figcaption class="caption">Переход к списку экземпляров бизнес-процесса</figcaption></figure></p>
</li>
<li>
<p>В отобразившемся списке «<strong>Все записи</strong>» нажмите кнопку «<strong>Создать</strong>». Отобразится стартовая форма процесса.</p>
</li>
<li>
<p>Заполните форму и нажмите кнопку «<strong>Создать</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Создание новой заявки на автомобиль" src="https://kb.comindware.ru/assets/img_6243047d6c516.png"/><figcaption class="caption">Создание новой заявки на автомобиль</figcaption></figure></p>
</li>
<li>
<p>Созданный бизнес-процесс отобразится в списке.</p>
</li>
<li>
<p>Проверим наличие задачи «Согласовать заявку», в которой мы указали своего текущего пользователя исполнителем.</p>
</li>
<li>
<p>Перейдите в «<strong>Мои задачи</strong>» в панели навигации слева.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Переход в раздел «Мои задачи» из списка процессов" src="https://kb.comindware.ru/assets/img_6243051dcd1ab.png"/><figcaption class="caption">Переход в раздел «Мои задачи» из списка процессов</figcaption></figure></p>
</li>
<li>
<p>Отобразится список назначенных вам активных задач.</p>
</li>
<li>
<p>Откройте задачу из списка, дважды нажав ее в списке.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Список активных задач пользователя" src="https://kb.comindware.ru/assets/img_624305b30669d.png"/><figcaption class="caption">Список активных задач пользователя</figcaption></figure></p>
</li>
<li>
<p>Отобразится форма согласования заявки на автомобиль.</p>
</li>
<li>
<p>Установите флажок <em>«Одобрено»</em> и нажмите кнопку «<strong>Завершить задачу</strong>».</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Одобрение заявки на автомобиль и завершение задачи" src="https://kb.comindware.ru/assets/img_624309b31d192.png"/><figcaption class="caption">Одобрение заявки на автомобиль и завершение задачи</figcaption></figure></p>
</li>
<li>
<p>Перейдите в раздел «<strong>Мои задачи</strong>». В списке появится задача <em>«Заказ автотранспорта — Принять заявку».</em></p>
</li>
<li>
<p>Для атрибута <em>«Принято»</em> укажите значение <em>«Нет»</em> и завершите задачу.</p>
<p><figure class="screenshot_with_caption" markdown=""><img alt="Отклонение заявки на автомобиль и ее возврат Секретарю" src="https://kb.comindware.ru/assets/img_6243067199fb0.png"/><figcaption class="caption">Отклонение заявки на автомобиль и ее возврат Секретарю</figcaption></figure></p>
</li>
<li>
<p>Вернитесь к списку своих задач — в списке появится задача <em>«Заказ автотранспорта — Согласовать заявку»</em>.</p>
</li>
<li>Откройте задачу и снимите флажок <em>«Одобрено»</em>.</li>
<li>Завершите задачу.</li>
<li>Перейдите в раздел «<strong>Мои задачи</strong>». В списке задач появится задача <em>«Заказ автотранспорта — Вам отказано»</em>. Завершите задачу. Бизнес-процесс будет завершен.</li>
</ol>
<h2 id="результаты">Результаты</h2>
<p>Поздравляем! Вы создали свой первый бизнес-процесс, настроили для него формы задач и протестировали запуск и исполнение задач процесса.</p>
<p>В  <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=4865">следующем уроке</a>  вы узнаете, как отследить историю запущенного процесса, и настроите информационные страницы с диаграммами для просмотра статистики за период.</p>
</article>
</div>
</div>
<a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#">
<i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i>
            К началу
          </a>
</main>
</div>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></div>