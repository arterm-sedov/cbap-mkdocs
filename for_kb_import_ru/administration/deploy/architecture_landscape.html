<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="comindware" dir="ltr"> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <nav aria-label="Содержание" class="md-nav md-nav--secondary"> <div class="mce-toc"> <h2 class="toc-heading"> Содержание </h2> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#введение"> <span class="md-ellipsis"> Введение </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#определения"> <span class="md-ellipsis"> Определения </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#архитектура-системы"> <span class="md-ellipsis"> Архитектура Системы </span> </a> <nav aria-label="Архитектура Системы" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#безопасность-и-отказоустойчивость-системы"> <span class="md-ellipsis"> Безопасность и отказоустойчивость Системы </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#интеграция-с-внешними-системами"> <span class="md-ellipsis"> Интеграция с внешними системами </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#ландшафт-развертывания-системы"> <span class="md-ellipsis"> Ландшафт развертывания Системы </span> </a> <nav aria-label="Ландшафт развертывания Системы" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#рекомендуемые-варианты-развертывания-системы"> <span class="md-ellipsis"> Рекомендуемые варианты развертывания Системы </span> </a> <nav aria-label="Рекомендуемые варианты развертывания Системы" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#минимальная-конфигурация"> <span class="md-ellipsis"> Минимальная конфигурация </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#продуктовая-конфигурация"> <span class="md-ellipsis"> Продуктовая конфигурация </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#рекомендуемый-набор-серверов-приложений"> <span class="md-ellipsis"> Рекомендуемый набор серверов приложений </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#техническое-обеспечение-системы"> <span class="md-ellipsis"> Техническое обеспечение Системы </span> </a> <nav aria-label="Техническое обеспечение Системы" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#конфигурация-серверов-приложений"> <span class="md-ellipsis"> Конфигурация серверов приложений </span> </a> <nav aria-label="Конфигурация серверов приложений" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#пример-расчёта-системных-ресурсов-отказоустойчивой-системы"> <span class="md-ellipsis"> Пример расчёта системных ресурсов отказоустойчивой системы </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#минимальная-конфигурация-основного-и-резервного-серверов-приложений"> <span class="md-ellipsis"> Минимальная конфигурация основного и резервного серверов приложений </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#минимальная-конфигурация-серверов-разработки-и-тестирования"> <span class="md-ellipsis"> Минимальная конфигурация серверов разработки и тестирования </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#конфигурация-системы-хранения-данных"> <span class="md-ellipsis"> Конфигурация системы хранения данных </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#конфигурация-подсистем"> <span class="md-ellipsis"> Конфигурация подсистем </span> </a> <nav aria-label="Конфигурация подсистем" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#конфигурация-сервера-apache-ignite"> <span class="md-ellipsis"> Конфигурация сервера Apache Ignite </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#конфигурация-сервера-elasticsearch"> <span class="md-ellipsis"> Конфигурация сервера Elasticsearch </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#конфигурация-обратного-прокси-сервера"> <span class="md-ellipsis"> Конфигурация обратного прокси-сервера </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link mkdocs_imported_link" href="#конфигурация-сервера-zabbix"> <span class="md-ellipsis"> Конфигурация сервера Zabbix </span> </a> </li> </ul> </nav> </li> </ul> </div> </nav> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset">  <h2 id="введение">Введение</h2> <p>Продукт <strong>Comindware Business Application Platform</strong> представляет собой целостный программный комплекс на базе стека современных технологий.</p> <p>В настоящем руководстве представлено краткое описание архитектуры <strong>Comindware Business Application Platform</strong>, а также даны рекомендации по выбору ландшафта и конфигурации программного и аппаратного обеспечения для развертывания системы на основе <strong>Comindware Business Application Platform</strong>.</p> <h2 id="определения">Определения</h2> <p><strong>Продукт</strong> — программное обеспечение <strong>Comindware Business Application Platform</strong>.</p> <p><strong>Система</strong> — развернутый программно-аппаратный комплекс на основе продукта <strong>Comindware Business Application Platform</strong>.</p> <p><strong>Сервер приложений</strong> — установленный экземпляр продукта <strong>Comindware Business Application Platform</strong>.</p> <p><strong>Приложение</strong> — обособленное бизнес-решение, реализованное на сервере приложений.</p> <p><strong>Активные пользователи</strong> — пользователи, регулярно генерирующие данные на сервере приложений.</p> <p><strong>DAS</strong> — запоминающее устройство, непосредственно подключенное к серверу приложений.</p> <p><strong>SAN</strong> — сетевая система хранения (СХД, сеть хранения данных).</p> <p><strong>IOPS</strong> — количество операций ввода-вывода в секунду.</p> <h2 id="архитектура-системы">Архитектура Системы</h2> <p>В основе Системы лежит клиент-серверная компонентно-многослойная сервисно-ориентированная архитектура, расширяемая плагинами и адаптерами.</p> <p>В состав Системы входят перечисленные ниже подсистемы.</p> <ul> <li><em>Веб-приложение</em>: одностраничное приложение (SPA) на основе Marionette, Backbone, React, Redux.</li> <li><em>Мобильное приложение</em>: React Native on Expo.</li> <li><em>Бэкенд</em>: компоненты-сервисы на основе .NET 6.0, .NET Framework 4.8 (Windows), Mono 6.12 (Linux), JDK 17.</li> <li><em>СУБД</em>: фирменная патентованная СУБД Comindware Elastic Data, с хранением данных в Apache Ignite.</li> <li><em>Подсистема полнотекстового поиска</em>: Lucene.Net.</li> <li><em>Подсистема сбора и анализа журналов транзакционных данных и данных мониторинга Системы</em>: Elasticsearch, Kibana.</li> <li><em>Подсистема файловых журналов</em>: NLog.</li> <li><em>Модули для интеграции</em>: см. раздел «<a class="mkdocs_imported_link" href="#интеграция-с-внешними-системами">Интеграция с внешними системами</a>».</li> </ul> <p>Полный перечень стороннего ПО, входящего в состав и необходимого для работы Системы, см. в статьях: <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2398">Comindware Business Application Platform 4.7. Перечень стороннего программного обеспечения для Linux</a> , <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2092">Перечень стороннего ПО для Windows</a>.</p> <figure class="screenshot_with_caption"> <p><img alt="Диаграмма архитектуры Comindware Business Application Platform" src="https://kb.comindware.ru/assets/Picture1.png"/><figcaption class="caption">Диаграмма архитектуры Comindware Business Application Platform</figcaption></p> </figure> <h3 id="безопасность-и-отказоустойчивость-системы">Безопасность и отказоустойчивость Системы</h3> <p>В Системе предусмотрены перечисленные ниже механизмы обеспечения безопасности и отказоустойчивости.</p> <ul> <li>Внешняя безопасность — реализуется посредством:<ul> <li>механизма аутентификации пользователей Kerberos и OpenID;</li> <li>сетевого экрана;</li> <li>обратного прокси-сервера.</li> </ul> </li> <li>Внутренняя безопасность — реализуется посредством ролевой модели безопасности.</li> <li>Отказоустойчивость — реализуется посредством использованием резервных серверов и дополнительных узлов хранения и обработки данных.</li> <li>Масштабируемость — реализуется посредством увеличения количества серверов, обрабатывающих запросы.</li> </ul> <p>См. <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2312">Безопасность</a>»</em>.</p> <h3 id="интеграция-с-внешними-системами">Интеграция с внешними системами</h3> <p>В Системе предусмотрены перечисленные ниже механизмы интеграции с внешними системами.</p> <ul> <li>Git —контроль версий приложений, создаваемых с помощью Системы.</li> <li>OData — обмен данными с внешними системами посредством REST API.</li> <li>OpenLDAP (Active Directory) — аутентификация, управление аккаунтами и единый вход.</li> <li>SMTP/IMAP/Exchange — получение и отправка электронных писем.</li> <li>ESB (RabbitMQ / MSMQ) — обмен сообщениями с внешними системами в распределенных и федеративных конфигурациях.</li> </ul> <p>См. <em>«<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2205">Подключения</a>»</em>.</p> <h2 id="ландшафт-развертывания-системы">Ландшафт развертывания Системы</h2> <p>Для обеспечения бесперебойной работы Систему необходимо развернуть в окружении, обеспечивающем достаточную производительность и отказоустойчивость.</p> <p>Систему можно развернуть для доступа через интернет и интранет:</p> <ul> <li><em>в минимальной конфигурации</em> — на одной виртуальной или физической машине заказчика.</li> <li><em>в продуктовой конфигурации</em>— на мощностях заказчика в отказоустойчивой конфигурации в соответствии с требованиями заказчика.</li> </ul> <h3 id="рекомендуемые-варианты-развертывания-системы">Рекомендуемые варианты развертывания Системы</h3> <h4 id="минимальная-конфигурация">Минимальная конфигурация</h4> <p>Ниже перечислены компоненты типовой минимальной конфигурации Системы, предназначенной для демонстраций и реализации пилотных проектов.</p> <ol class="colored_numbers_list"> <li><strong><em>Comindware Business Application Platform</em></strong>: установленный экземпляр Продукта.</li> <li><em>СУБД</em> <em>Comindware Elastic Data</em>.</li> <li><em>Сервер Elasticsearch</em> — в конфигурации с одним узлом.</li> </ol> <figure class="screenshot_with_caption"> <p><img alt="Минимальная конфигурация Системы" src="https://kb.comindware.ru/assets/Picture2_2.png"/><figcaption class="caption">Минимальная конфигурация Системы</figcaption></p> </figure> <h4 id="продуктовая-конфигурация">Продуктовая конфигурация</h4> <p>Ниже перечислены компоненты типовой продуктовой конфигурации, обеспечивающей дублирование и резервирование ресурсов, а также отказоустойчивость Системы.</p> <ol class="colored_numbers_list"> <li><strong><em>Comindware Business Application Platform</em></strong>: установленный экземпляр Продукта.</li> <li><em>СУБД Comindware Elastic Data</em>.</li> <li><em>Сервер Elasticsearch</em>.</li> <li><em>Обратный прокси-сервер NGINX</em> для фильтрации нежелательных запросов и ретрансляции допустимых запросов во внутреннюю сеть.</li> <li><em>Сервер Zabbix</em> для мониторинга доступности служб и свободного пространства на дисках.</li> <li><em>Почтовый сервер (SMTP/IMAP)</em> (необязательно) для передачи уведомлений.</li> <li><em>Сервер LDAP</em> (необязательно) для централизованного управления инфраструктурой сети.</li> <li><em>Сервер Git</em> (необязательно) для контроля версий приложений, создаваемых с помощью <strong>Comindware Business Application Platform</strong>.</li> </ol> <p>_<img alt="Продуктовая конфигурация: ландшафт подсистем" src="https://kb.comindware.ru/assets/Picture3_3.png"/> _</p> <p>Продуктовое использование накладывает требования на следующие характеристики Системы:</p> <ul> <li><em>безопасность</em> — реализуется за счет настройки сетевого экрана и обратного прокси-сервера;</li> <li><em>отказоустойчивость</em> — реализуется за счет использования резервных серверов и дополнительных узлов на серверах, хранящих данные;</li> <li><em>масштабируемость</em> — реализуется за счет добавления дополнительных серверов, обрабатывающих запросы.</li> </ul> <figure class="screenshot_with_caption"> <p><img alt="Типовой ландшафт сервисом в составе Системы" src="https://kb.comindware.ru/assets/Picture4_4.png"/><figcaption class="caption">Типовой ландшафт сервисом в составе Системы</figcaption></p> </figure> <h3 id="рекомендуемый-набор-серверов-приложений">Рекомендуемый набор серверов приложений</h3> <p>Для повышения эффективности разработки и тестирования приложений, а также отказоустойчивости и безопасности эксплуатации приложений рекомендуется развернуть несколько серверов приложений (необходимость использования каждого из этих серверов определяется при составлении технических требований):</p> <ol class="colored_numbers_list"> <li><em>сервер разработки</em> (development), на котором осуществляется разработка приложений;</li> <li><em>сервер тестирования</em> (pre-production), на котором осуществляется тестирование приложений;</li> <li><em>основной сервер</em> (production), на котором осуществляется эксплуатация приложений;</li> <li><em>резервный сервер</em> (standby), который используется в случае перегрузки или выхода из строя основного сервера.</li> </ol> <h2 id="техническое-обеспечение-системы">Техническое обеспечение Системы</h2> <p>В данной статье представлены рекомендуемые характеристики технического обеспечения для развёртывания Системы на мощностях заказчика под управлением операционной системы Windows или Linux.</p> <h3 id="конфигурация-серверов-приложений">Конфигурация серверов приложений</h3> <p>Сервер приложений размещается на физической или виртуальной машине, обеспечивая взаимодействие с пользователями, сторонними системами, ввод, обработку и хранение таких данных, как файлы базы данных, файлы конфигурации, загружаемые пользователями файлы, файлы журналов,  файлы резервных копий.</p> <p>Следующие рекомендации позволят определить необходимую конфигурацию технического обеспечения для работы серверов приложений.</p> <p>В минимальной конфигурации достаточно развернуть один сервер приложений для разработки, тестирования и эксплуатации приложений.</p> <p>Приведенные ниже требования носят рекомендательный характер и позволяют обеспечить комфортную работу конечных пользователей, гражданских разработчиков и тестировщиков приложений <strong>Comindware Business Application Platform</strong>.</p> <p>Фактические требования к техническому обеспечению могут значительно отличаться и зависят от следующих факторов:</p> <ul> <li>количества активных пользователей в Системе;</li> <li>количества приложений в Системе;</li> <li>количества запускаемых процессов;</li> <li>количества настроенных вычислений, правил, условий и зависимостей данных;</li> <li>объема хранимой информации и документов.</li> </ul> <p>Подсистемы (см. раздел «<a class="mkdocs_imported_link" href="#конфигурация-подсистем">Конфигурация подсистем</a>») и виртуальные машины с Продуктом рекомендуется размещать на нескольких физических машинах.</p> <p>Каналы связи между узлами Системы должны обеспечивать пропускную способность не менее 10 Гбит/с.</p> <h4 id="пример-расчёта-системных-ресурсов-отказоустойчивой-системы">Пример расчёта системных ресурсов отказоустойчивой системы</h4> <p>В таблице ниже представлена конфигурация системы для следующего количества пользователей:</p> <ul> <li>500 зарегистрированных;</li> <li>200 активных;</li> <li>25 постоянных.</li> </ul> <table style="width: 100%;"> <thead> <tr> <th><strong>Имя сервера</strong></th> <th><strong>Описание</strong></th> <th><strong>Кол-во логи­­ческих ядер ЦП от 3,0 ГГц</strong></th> <th><strong>ОЗУ, ГБ</strong></th> <th><strong>Хранение данных</strong></th> <th></th> <th></th> <th></th> <th></th> </tr> </thead> <tbody> <tr> <td><strong>Раздел с ПО,</strong> <strong>ГБ</strong> <strong>SSD</strong></td> <td><strong>База данных,</strong> <strong>ГБ</strong> <strong>Высоко­­надеж­­ный высоко­скорост­­ной SSD</strong></td> <td><strong>Загру­­­жаемые файлы,</strong> <strong>ГБ</strong> <strong>СХД HDD</strong></td> <td><strong>Жур­налы,</strong> <strong>ГБ</strong> <strong>HDD</strong></td> <td><strong>Резерв­­ные копии,</strong> <strong>ГБ</strong> <strong>СХД HDD</strong></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td><strong>Инфраструктурные сервисы</strong></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>Nginx reverse proxy1</td> <td>Обратный прокси (VPS)</td> <td>2</td> <td>2</td> <td>24</td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>Nginx reverse proxy2</td> <td>Обратный прокси (VPS)</td> <td>2</td> <td>2</td> <td>24</td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>Zabbix1</td> <td>Cистема монито­ринга и отслеживания (VPS)</td> <td>2</td> <td>4</td> <td>24</td> <td>128</td> <td></td> <td></td> <td></td> </tr> <tr> <td>Zabbix2</td> <td>Cистема мониторинга и отсле­живания (VPS)</td> <td>2</td> <td>4</td> <td>24</td> <td>128</td> <td></td> <td></td> <td></td> </tr> <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td><strong>Продуктовый ландшафт</strong></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>CBAP-node1*</td> <td>Сервер прило­жений (VPS)</td> <td>8</td> <td>32</td> <td>64</td> <td>128</td> <td>1024</td> <td>16</td> <td>512</td> </tr> <tr> <td>CBAP-node2*</td> <td>Сервер прило­жений (VPS)</td> <td>8</td> <td>32</td> <td>64</td> <td>128</td> <td>16</td> <td></td> <td></td> </tr> <tr> <td>CBAP-node3*</td> <td>Сервер прило­жений (VPS)</td> <td>8</td> <td>32</td> <td>64</td> <td>128</td> <td>16</td> <td></td> <td></td> </tr> <tr> <td>Elasticsearch-node1*</td> <td>Сервер журналов Elasticsearch (VPS)</td> <td>4</td> <td>16</td> <td>24</td> <td>128</td> <td></td> <td>16</td> <td>512</td> </tr> <tr> <td>Elasticsearch-node2*</td> <td>Сервер журналов Elasticsearch (VPS)</td> <td>4</td> <td>16</td> <td>24</td> <td>128</td> <td></td> <td>16</td> <td></td> </tr> <tr> <td>Elasticsearch-node3*</td> <td>Сервер журналов Elasticsearch (VPS)</td> <td>4</td> <td>16</td> <td>24</td> <td>128</td> <td></td> <td>16</td> <td></td> </tr> <tr> <td>* Виртуальные серверы одного сервиса должны быть размещены на разных физических серверах.</td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>Скорость соединения между серверами должна быть не менее 10 Гб/с.</td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td><strong>Ландшафт тестирования и разработки</strong></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>git-server</td> <td>GitLab</td> <td>2</td> <td>4</td> <td>24</td> <td>128</td> <td></td> <td></td> <td></td> </tr> <tr> <td>CBAP-test</td> <td>Сервер прило­жений (VPS)</td> <td>8</td> <td>24</td> <td>64</td> <td>128</td> <td>32</td> <td>16</td> <td>128</td> </tr> <tr> <td>CBAP-dev</td> <td>Сервер прило­жений (VPS)</td> <td>8</td> <td>24</td> <td>64</td> <td>128</td> <td>32</td> <td>16</td> <td>128</td> </tr> <tr> <td>Elasticsearch</td> <td>Сервер журналов Elasticsearch (VPS)</td> <td>4</td> <td>16</td> <td>24</td> <td>128</td> <td></td> <td>16</td> <td>128</td> </tr> <tr> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td><strong>Сумма по типам ресурсов</strong></td> <td></td> <td><strong>66</strong></td> <td><strong>224</strong></td> <td><strong>536</strong></td> <td><strong>1536</strong></td> <td><strong>1088</strong></td> <td><strong>144</strong></td> <td><strong>1408</strong></td> </tr> </tbody> </table> <h4 id="минимальная-конфигурация-основного-и-резервного-серверов-приложений">Минимальная конфигурация основного и резервного серверов приложений</h4> <table style="width: 100%;"> <thead> <tr> <th><strong>Кол-во польз.</strong></th> <th><strong>ЦП</strong></th> <th><strong>ОЗУ</strong></th> <th><strong>HDD</strong></th> <th><strong>SSD</strong></th> </tr> </thead> <tbody> <tr> <td><strong>Основной сервер приложений</strong></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>1–200 активных</td> <td>4 ядра от 3,7 ГГц + (1 ядро × 100 акт. польз. × кол-во приложений)</td> <td>16 ГБ + (4 ГБ × 100 акт. польз. × кол-во приложений)</td> <td>16 ГБ</td> <td>16 ГБ</td> </tr> <tr> <td>200 активных</td> <td>4 ядра + (2 ядра × кол-во прил.)</td> <td>16 ГБ + (8 ГБ × кол-во прил.)</td> <td>16 ГБ × кол-во прил.</td> <td>16 ГБ × кол-во прил.</td> </tr> <tr> <td>300 активных</td> <td>4 ядра + (3 ядра × кол-во прил.)</td> <td>16 ГБ + (12 ГБ × кол-во прил.)</td> <td>16 ГБ × кол-во прил.</td> <td>16 ГБ × кол-во прил.</td> </tr> <tr> <td>400 активных</td> <td>4 ядра + (4 ядра × кол-во прил.)</td> <td>16 ГБ + (16 ГБ × кол-во прил.)</td> <td>16 ГБ × кол-во прил.</td> <td>16 ГБ × кол-во прил.</td> </tr> <tr> <td><strong>Резервный сервер приложений</strong></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>1­– 200</td> <td>4 ядра от 3,7 ГГц + (1 ядро × 100 польз. × кол-во приложений)</td> <td>16 ГБ + (4 ГБ × 100 польз. × кол-во приложений)</td> <td>16 ГБ × кол-во прил.</td> <td>8 ГБ × кол-во прил.</td> </tr> <tr> <td>200</td> <td>4 ядра + (2 ядра × кол-во прил.)</td> <td>16 ГБ + (8 ГБ × кол-во прил.)</td> <td>16 ГБ × кол-во прил.</td> <td>8 ГБ × кол-во прил.</td> </tr> <tr> <td>300</td> <td>4 ядра + (3 ядра × кол-во прил.)</td> <td>16 ГБ + (12 ГБ × кол-во прил.)</td> <td>16 ГБ × кол-во прил.</td> <td>8 ГБ × кол-во прил.</td> </tr> <tr> <td>400</td> <td>4 ядра + (4 ядра × кол-во прил.)</td> <td>16 ГБ + (16 ГБ × кол-во прил.)</td> <td>16 ГБ × кол-во прил.</td> <td>16 ГБ × кол-во прил.</td> </tr> </tbody> </table> <h4 id="минимальная-конфигурация-серверов-разработки-и-тестирования">Минимальная конфигурация серверов разработки и тестирования</h4> <table style="width: 100%;"> <thead> <tr> <th><strong>Кол-во польз.</strong></th> <th><strong>ЦП</strong></th> <th><strong>ОЗУ</strong></th> <th><strong>HDD</strong></th> <th><strong>SSD</strong></th> </tr> </thead> <tbody> <tr> <td><strong>Сервер разработки</strong></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>1–100</td> <td>4 ядра от 3,7 ГГц</td> <td>16 ГБ</td> <td>16 ГБ</td> <td>16 ГБ</td> </tr> <tr> <td><strong>Сервер тестирования</strong></td> <td></td> <td></td> <td></td> <td></td> </tr> <tr> <td>1–100</td> <td>4 ядра от 3,7 ГГц</td> <td>16 ГБ</td> <td>16 ГБ</td> <td>16 ГБ</td> </tr> </tbody> </table> <h3 id="конфигурация-системы-хранения-данных">Конфигурация системы хранения данных</h3> <p>В минимальной конфигурации все папки данных сервера приложений могут храниться в одном разделе на высокопроизводительном SSD-накопителе.</p> <p>Высокопроизводительные системы хранения (SSD DAS/SAN) должны обеспечивать производительность не меньше 100 000 IOPS на 1 сервер приложений.</p> <p>Объем выделяемого пространства на высокопроизводительных (SSD DAS/SAN) и низкопроизводительных системах хранения (HDD DAS/SAN) следует определить в ходе составления технических требований.</p> <p>Для оптимизации обработки, хранения и резервного копирования папки данных сервера приложений можно разместить в отдельных хранилищах:</p> <ul> <li><em>файлы базы данных и конфигурации</em> — SSD DAS/SAN (эти данные сервер приложений обрабатывает постоянно в оперативном режиме, что создает высокую нагрузку на подсистему хранения);</li> <li><em>загруженные пользователями файлы</em> — HDD DAS/SAN (такие файлы хранятся долговременно, не в базе данных и запрашиваются по ссылке, поэтому для их обработки и хранения высокопроизводительная подсистема хранения не требуется);</li> <li><em>журнал Системы</em> — HDD DAS/SAN (запись файлов журнала создает минимальную нагрузку на подсистему хранения);</li> <li><em>резервные копии</em> — HDD DAS/SAN (резервные копии формируются периодически, используются редко, для их хранения важнее объем, а не производительность хранилища; тем не менее, скорость резервного копирования может снижаться в случае наличия большого количества мелких файлов, загруженных пользователями, в таком случае можно разместить папку резервных копий на высокопроизводительном накопителе);</li> <li><em>временная папка</em> — SSD DAS/SAN (нагрузка при хранении и обработке временных файлов может возрастать при большом количестве активных пользователей и транзакций, загрузке пользователями множества файлов и под влиянием прочих факторов).</li> </ul> <h2 id="конфигурация-подсистем">Конфигурация подсистем</h2> <h3 id="конфигурация-сервера-apache-ignite">Конфигурация сервера Apache Ignite</h3> <p>Apache Ignite в минимально необходимой конфигурации устанавливается автоматически при развертывании <strong>Comindware Business Application Platform</strong>.</p> <p><strong>Требования к конфигурации</strong></p> <p>См. статью <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2093">Apache Ignite. Установка и настройка. Краткое руководство</a>.</p> <p><strong>Примеры конфигураций</strong></p> <p>См. статью <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2093">Apache Ignite. Установка и настройка. Краткое руководство</a>.</p> <h3 id="конфигурация-сервера-elasticsearch">Конфигурация сервера Elasticsearch</h3> <p>Elasticsearch в минимально необходимой конфигурации устанавливается автоматически при развертывании <strong>Comindware Business Application Platform</strong>.</p> <p><strong>Требования к конфигурации</strong></p> <ol class="colored_numbers_list"> <li>Должна быть включена аутентификация.</li> <li>Должна быть разрешена работа под любым аккаунтом, кроме стандартного: elastic.</li> <li>Номер порта должен отличаться от стандартного 9200.</li> <li>В конфигурации должно быть задано достаточное количество шардов: минимум 3000.</li> </ol> <p><strong>Примеры конфигураций</strong></p> <ol class="colored_numbers_list"> <li>Развертывание одного узла в Windows: см. <em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2094">Установка Elasticsearch. Краткое руководство для Windows</a></em>.</li> <li>Развертывание кластера в Linux: см. <em><a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2095">Установка Elasticsearch и настройка кластера Elasticsearch без сертификатов подлинности</a></em>.</li> </ol> <h3 id="конфигурация-обратного-прокси-сервера">Конфигурация обратного прокси-сервера</h3> <p>NGINX в минимально необходимой конфигурации устанавливается автоматически при развертывании <strong>Comindware Business Application Platform</strong>.</p> <p><strong>Требования к конфигурации</strong></p> <ol class="colored_numbers_list"> <li>сервер NGINX;</li> <li>модуль ModSecurity;</li> <li>модуль GeoIP.</li> </ol> <p><strong>Примеры конфигураций</strong></p> <ol class="colored_numbers_list"> <li>Развертывание сервера NGINX: cм. статью <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2096">NGINX. Установка и настройка. Краткое руководство</a>.</li> <li>Развертывание модуля GeoIP: см. статью <a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2097">Модуль GeoIP для NGINX. Установка и настройка. Краткое руководство</a>.</li> </ol> <h3 id="конфигурация-сервера-zabbix">Конфигурация сервера Zabbix</h3> <p><strong>Требования к конфигурации</strong></p> <p>Конфигурация сервера Zabbix должна обеспечивать мониторинг работоспособности Системы, как указано ниже.</p> <ol class="colored_numbers_list"> <li>Мониторинг доступности сервера Apache Ignite<ol class="colored_numbers_list"> <li>Сервер может быть недоступен из-за проблем с сетью.</li> <li>На сервере может закончиться свободное место на диске.</li> <li>Конфигурация сервера может не позволять обработать запросы, например, ввиду невозможности создания нового индекса или соответствующего ему шарду.</li> </ol> </li> <li>Мониторинг доступности сервера Elasticsearch<ol class="colored_numbers_list"> <li>Сервер может быть недоступен из-за проблем с сетью.</li> <li>На сервере может закончиться свободное место на диске.</li> <li>Конфигурация сервера может не позволять обработать запросы, например, ввиду невозможности создания нового индекса или соответствующего ему шарда.</li> </ol> </li> <li>Мониторинг места на дисках с базой данных, журналами, резервными копиями и т. п.</li> <li>Мониторинг ошибок в процессе работы Системы<ol class="colored_numbers_list"> <li>Ошибки конфигурации Системы.</li> <li>Ошибки в процессе эксплуатации Системы.</li> <li>Ошибки, связанные с обновлением окружения, в котором работает Система, или компонентов самой Системы.</li> </ol> </li> </ol> <p><strong>Примеры конфигураций</strong></p> <p>См. статью «<a class="mkdocs_imported_link" href="https://kb.comindware.ru/article.php?id=2098">Zabbix. Установка и настройка. Краткое руководство</a>».</p> </article> </div> </div> <a class="md-top md-icon mkdocs_imported_link" data-md-component="top" href="#"> <i class="fa-light fa-arrow-up">&zwnj;<!--icon--></i> К началу </a> </main> </div> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": true, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>