<h1>Развертывание Comindware Business Application Platform. Архитектура, ландшафт, программное и техническое обеспечение</h1><div class="mce-toc">
<h2 class="toc-heading">Содержание</h2>
<ul>
<li><a href="#mcetoc_1g78u71vf1">Введение</a></li>
<li><a href="#mcetoc_1g78u77lo2">Определения</a></li>
<li><a href="#mcetoc_1g7eahlrr0">1. Архитектура Системы</a>
<ul>
<li><a href="#mcetoc_1g7ean1q71">1.1. Безопасность и отказоустойчивость Системы</a></li>
<li><a href="#mcetoc_1g7eann3f2">1.2. Интеграция с внешними системами</a></li>
</ul>
</li>
<li><a href="#mcetoc_1g7eaqufv0">2. Ландшафт развертывания Системы</a>
<ul>
<li><a href="#mcetoc_1g7eauu4b2">2.1. Рекомендуемые варианты развертывания Системы</a>
<ul>
<li><a href="#mcetoc_1g7eav17o3">2.1.1. Минимальная конфигурация</a></li>
<li><a href="#mcetoc_1g7eauml51">2.1.2. Продуктовая конфигурация</a></li>
</ul>
</li>
<li><a href="#mcetoc_1g7ebavmr4">2.2. Рекомендуемый набор серверов приложений</a></li>
</ul>
</li>
<li><a href="#mcetoc_1g7ebe05s0">3. Техническое обеспечение Системы</a>
<ul>
<li><a href="#mcetoc_1g7ebfaqq1">3.1. Конфигурация серверов приложений</a>
<ul>
<li><a href="#mcetoc_1gjooir390">3.1.2. Пример расчёта системных ресурсов отказоустойчивой системы</a></li>
<li><a href="#mcetoc_1gjoomt0g2">3.1.3. Минимальная конфигурация основного и резервного серверов приложений</a></li>
<li><a href="#mcetoc_1g7ebl1d5h">3.1.4. Минимальная конфигурация серверов разработки и тестирования</a></li>
</ul>
</li>
<li><a href="#mcetoc_1g7ebl699j">3.2. Конфигурация системы хранения данных</a></li>
</ul>
</li>
<li><a href="#mcetoc_1g7ebvhdq0">4. Конфигурация подсистем</a>
<ul>
<li><a href="#mcetoc_1g7ec09uj1">4.1. Конфигурация сервера Apache Ignite</a></li>
<li><a href="#mcetoc_1g7ec36b72">4.2. Конфигурация сервера Elasticsearch</a></li>
<li><a href="#mcetoc_1g7ec5sie3">4.3. Конфигурация обратного прокси-сервера</a></li>
<li><a href="#mcetoc_1g7ec8e2o4">4.4. Конфигурация сервера Zabbix</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="mcetoc_1g78u71vf1">Введение</h2>
<p>Продукт <strong><strong>Comindware Business Application Platform</strong></strong> представляет собой целостный программный комплекс на базе стека современных технологий.</p>
<p>В настоящем руководстве представлено краткое описание архитектуры <strong><strong>Comindware Business Application Platform</strong></strong>, а также даны рекомендации по выбору ландшафта и конфигурации программного и аппаратного обеспечения для развертывания системы на основе <strong><strong>Comindware Business Application Platform</strong></strong>.</p>
<h2 id="mcetoc_1g78u77lo2">Определения</h2>
<p><strong>Продукт</strong> — программное обеспечение <strong><strong>Comindware Business Application Platform</strong></strong>.</p>
<p><strong>Система</strong> — развернутый программно-аппаратный комплекс на основе продукта <strong><strong>Comindware Business Application Platform</strong></strong>.</p>
<p><strong>Сервер приложений</strong> — установленный экземпляр продукта <strong>Comindware Business Application Platform</strong>.</p>
<p><strong>Приложение</strong> — обособленное бизнес-решение, реализованное на сервере приложений.</p>
<p><strong>Активные пользователи</strong> — пользователи, регулярно генерирующие данные на сервере приложений.</p>
<p><strong>DAS</strong> — запоминающее устройство, непосредственно подключенное к серверу приложений.</p>
<p><strong>SAN</strong> — сетевая система хранения (СХД, сеть хранения данных).</p>
<p><strong>IOPS</strong> — количество операций ввода-вывода в секунду.</p>
<h2 id="mcetoc_1g7eahlrr0">1. Архитектура Системы</h2>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">В основе Системы лежит клиент-серверная компонентно-многослойная сервисно-ориентированная архитектура, расширяемая плагинами и адаптерами.</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">В состав Системы входят перечисленные ниже подсистемы.</p>
<ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: disc; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">Веб-приложение</em>: одностраничное приложение (SPA) на основе Marionette, Backbone, React, Redux.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">Мобильное приложение</em>: React Native on Expo.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">Бэкенд</em>: компоненты-сервисы на основе .NET 6.0, .NET Framework 4.8 (Windows), Mono 6.12 (Linux), JDK 17.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">СУБД</em>: фирменная патентованная СУБД Comindware Elastic Data, с хранением данных в Apache Ignite.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">Подсистема полнотекстового поиска</em>: Lucene.Net.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">Подсистема сбора и анализа журналов транзакционных данных и данных мониторинга Системы</em>: Elasticsearch, Kibana.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">Подсистема файловых журналов</em>: NLog.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">Модули для интеграции</em>: см. раздел «<a href="#mcetoc_1g7eann3f2" style="box-sizing: border-box; color: #2d9adf; text-decoration: none; background-color: transparent;">Интеграция с внешними системами</a>».</li>
</ul>
<p><span style="color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">Полный перечень стороннего ПО, входящего в состав и необходимого для работы Системы, см. в статьях: <samp data-name="aid" data-title="" data-value="2398"><span style="color: #0066bc; font-family: Tahoma;"><img src="https://kb.comindware.ru/images/marker.png" style="vertical-align: middle;"/><strong>Comindware Business Application Platform</strong> 4.4. Перечень стороннего программного обеспечения для Linux | Preview {Article-ID:2398}</span> </samp> </span> <span style="color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">, <a href="https://kb.comindware.ru/article.php?id=2092">Перечень стороннего ПО для Windows</a>.</span></p>
<div class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img alt="Диаграмма архитектуры &lt;strong&gt;Comindware Business Application Platform&lt;/strong&gt;" class="img-responsive" height="811" src="https://kb.comindware.ru/assets/Picture1.png" width="984"/></p>
<p class="caption" style="font-size: 15px !important;">Диаграмма архитектуры <strong>Comindware Business Application Platform</strong></p>
</div>
<h3 id="mcetoc_1g7ean1q71">1.1. Безопасность и отказоустойчивость Системы</h3>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">В Системе предусмотрены перечисленные ниже механизмы обеспечения безопасности и отказоустойчивости.</p>
<ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: disc; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">Внешняя безопасность — реализуется посредством:
<ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding: 8px 16px; margin-left: 16px; list-style: circle; text-indent: 0px !important;">
<li style="box-sizing: border-box; font-weight: 300; list-style: circle; text-indent: 0px !important;">механизма аутентификации пользователей Kerberos и OpenID;</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: circle; text-indent: 0px !important;">сетевого экрана;</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: circle; text-indent: 0px !important;">обратного прокси-сервера.</li>
</ul>
</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">Внутренняя безопасность — реализуется посредством ролевой модели безопасности.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">Отказоустойчивость — реализуется посредством использованием резервных серверов и дополнительных узлов хранения и обработки данных;</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">Масштабируемость — реализуется за счет увеличения количества серверов, обрабатывающих запросы.</li>
</ul>
<h3 id="mcetoc_1g7eann3f2">1.2. Интеграция с внешними системами</h3>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">В Системе предусмотрены перечисленные ниже механизмы интеграции с внешними системами.</p>
<ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: disc; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">Git —контроль версий приложений, создаваемых с помощью Системы.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">OData — обмен данными с внешними системами посредством REST API.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">OpenLDAP (Active Directory) — аутентификация, управление аккаунтами и единый вход.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">SMTP/IMAP/Exchange — получение и отправка электронных писем.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">ESB (RabbitMQ / MSMQ) — обмен сообщениями с внешними системами в распределенных и федеративных конфигурациях.</li>
</ul>
<p> </p>
<h2 id="mcetoc_1g7eaqufv0">2. Ландшафт развертывания Системы</h2>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Для обеспечения бесперебойной работы Систему необходимо развернуть в окружении, обеспечивающем достаточную производительность и отказоустойчивость.</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Систему можно развернуть для доступа через интернет и интранет:</p>
<ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: disc; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">в минимальной конфигурации</em> — на одной виртуальной или физической машине заказчика.</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">в продуктовой конфигурации </em>— на мощностях заказчика в отказоустойчивой конфигурации в соответствии с требованиями заказчика.</li>
</ul>
<h3 id="mcetoc_1g7eauu4b2">2.1. Рекомендуемые варианты развертывания Системы</h3>
<h4 id="mcetoc_1g7eav17o3">2.1.1. Минимальная конфигурация</h4>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Ниже перечислены компоненты типовой минимальной конфигурации Системы, предназначенной для демонстраций и реализации пилотных проектов.</p>
<ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: decimal; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;"><strong>Comindware Business Application Platform</strong></em>: установленный экземпляр Продукта.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">СУБД</em> <em style="box-sizing: border-box;">Comindware Elastic Data</em>.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">Сервер Elasticsearch</em> — в конфигурации с одним узлом.</li>
</ol>
<div class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img alt="Минимальная конфигурация Системы" class="img-responsive" height="560" src="https://kb.comindware.ru/assets/Picture2_2.png" width="906"/></p>
<p class="caption" style="font-size: 15px !important;">Минимальная конфигурация Системы</p>
</div>
<h4 id="mcetoc_1g7eauml51">2.1.2. Продуктовая конфигурация</h4>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Ниже перечислены компоненты типовой продуктовой конфигурации, обеспечивающей дублирование и резервирование ресурсов, а также отказоустойчивость Системы.</p>
<ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: decimal; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;"><strong>Comindware Business Application Platform</strong></em>: установленный экземпляр Продукта.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">СУБД Comindware Elastic Data</em>.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">Сервер Elasticsearc</em><em style="box-sizing: border-box;">h</em>.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">Обратный прокси-сервер </em><em style="box-sizing: border-box;">NGINX</em> для фильтрации нежелательных запросов и ретрансляции допустимых запросов во внутреннюю сеть.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">Сервер Zabbix</em> для мониторинга доступности служб и свободного пространства на дисках.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">Почтовый сервер (SMTP/IMAP)</em> (необязательно) для передачи уведомлений.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">Сервер LDAP</em> (необязательно) для централизованного управления инфраструктурой сети.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">Сервер Git</em> (необязательно) для контроля версий приложений, создаваемых с помощью <strong>Comindware Business Application Platform</strong>.</li>
</ol>
<div class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img alt="Продуктовая конфигурация: ландшафт подсистем" class="img-responsive" height="747" src="https://kb.comindware.ru/assets/Picture3_3.png" width="2151"/></p>
<p class="caption" style="font-size: 15px !important;">Продуктовая конфигурация: ландшафт подсистем</p>
</div>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Продуктовое использование накладывает требования на следующие характеристики Системы:</p>
<ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: disc; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">безопасность</em> — реализуется за счет настройки сетевого экрана и обратного прокси-сервера;</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">отказоустойчивость</em> — реализуется за счет использования резервных серверов и дополнительных узлов на серверах, хранящих данные;</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;"><em style="box-sizing: border-box;">масштабируемость</em> — реализуется за счет добавления дополнительных серверов, обрабатывающих запросы.</li>
</ul>
<div class="screenshot_with_caption" style="font-size: 15px !important;">
<p><img alt="Типовой ландшафт сервисом в составе Системы" class="img-responsive" height="629" src="https://kb.comindware.ru/assets/Picture4_4.png" width="1076"/></p>
<p class="caption" style="font-size: 15px !important;">Типовой ландшафт сервисов в составе Системы</p>
</div>
<h3 id="mcetoc_1g7ebavmr4">2.2. Рекомендуемый набор серверов приложений</h3>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Для повышения эффективности разработки и тестирования приложений, а также отказоустойчивости и безопасности эксплуатации приложений рекомендуется развернуть несколько серверов приложений (необходимость использования каждого из этих серверов определяется при составлении технических требований):</p>
<ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: decimal; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">сервер разработки</em> (development), на котором осуществляется разработка приложений;</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">сервер тестирования</em> (pre-production), на котором осуществляется тестирование приложений;</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">основной сервер</em> (production), на котором осуществляется эксплуатация приложений;</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;"><em style="box-sizing: border-box;">резервный сервер</em> (standby), который используется в случае перегрузки или выхода из строя основного сервера.</li>
</ol>
<p> </p>
<h2 id="mcetoc_1g7ebe05s0">3. Техническое обеспечение Системы</h2>
<p><span style="color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">В данной статье представлены рекомендуемые характеристики технического обеспечения для развёртывания Системы на мощностях заказчика под управлением операционной системы Windows или Linux.</span></p>
<h3 id="mcetoc_1g7ebfaqq1">3.1. Конфигурация серверов приложений</h3>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Сервер приложений размещается на физической или виртуальной машине, обеспечивая взаимодействие с пользователями, сторонними системами, ввод, обработку и хранение таких данных, как файлы базы данных, файлы конфигурации, загружаемые пользователями файлы, файлы журналов,  файлы резервных копий.</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Следующие рекомендации позволят определить необходимую конфигурацию технического обеспечения для работы серверов приложений.</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">В минимальной конфигурации достаточно развернуть один сервер приложений для разработки, тестирования и эксплуатации приложений.</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Приведенные ниже требования носят рекомендательный характер и позволяют обеспечить комфортную работу конечных пользователей, гражданских разработчиков и тестировщиков приложений <strong>Comindware Business Application Platform</strong>.</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Фактические требования к техническому обеспечению могут значительно отличаться и зависят от следующих факторов:</p>
<ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: disc; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">количества активных пользователей в Системе;</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">количества приложений в Системе;</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">количества запускаемых процессов;</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">количества настроенных вычислений, правил, условий и зависимостей данных;</li>
<li style="box-sizing: border-box; font-weight: 300; list-style: disc; text-indent: 0px !important;">объема хранимой информации и документов.</li>
</ul>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Подсистемы (см. раздел «<a href="#mcetoc_1g7ebvhdq0" style="box-sizing: border-box; color: #2d9adf; text-decoration: none; background-color: transparent;">Конфигурация подсистем</a>») и виртуальные машины с Продуктом рекомендуется размещать на нескольких физических машинах.</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Каналы связи между узлами Системы должны обеспечивать пропускную способность не менее 10 Гбит/с.</p>
<h4 id="mcetoc_1gjooir390">3.1.2. Пример расчёта системных ресурсов отказоустойчивой системы</h4>
<p>В таблице ниже представлена конфигурация системы для следующего количества пользователей:</p>
<ul>
<li>500 зарегистрированных;</li>
<li>200 активных;</li>
<li>25 постоянных.</li>
</ul>
<div class="table-responsive">
<table border="1" cellpadding="0" cellspacing="0" style="width: 97%; line-height: normal;" width="97%">
<thead>
<tr valign="top">
<th rowspan="2" style="width: 12%;">
<p><strong>Имя сервера</strong></p>
</th>
<th rowspan="2" style="width: 25%;">
<p><strong>Описание</strong></p>
</th>
<th rowspan="2" style="width: 4.5%;">
<p><span style="font-size: 10pt;"><strong>Кол-во логи­­ческих ядер ЦП от 3,0 ГГц</strong></span></p>
</th>
<th rowspan="2" style="width: 4.5%;">
<p><span style="font-size: 10pt;"><strong>ОЗУ, ГБ</strong></span></p>
</th>
<th colspan="5" style="width: 30%;">
<p><strong>Хранение данных</strong></p>
</th>
</tr>
<tr valign="top">
<th style="width: 8%;">
<p><span style="font-size: 10pt;"><strong>Раздел с ПО, </strong> </span> <br/><span style="font-size: 10pt;"><strong>ГБ </strong> </span> <br/><span style="font-size: 10pt;"><strong>SSD</strong></span></p>
</th>
<th style="width: 8%;">
<p><span style="font-size: 10pt;"><strong>База данных, </strong> </span> <br/><span style="font-size: 10pt;"><strong>ГБ </strong> </span> <br/><span style="font-size: 10pt;"><strong>Высоко­­надеж­­ный высоко­скорост­­ной SSD</strong></span></p>
</th>
<th style="width: 8%;">
<p><span style="font-size: 10pt;"><strong>Загру­­­жаемые файлы, </strong> </span> <br/><span style="font-size: 10pt;"><strong>ГБ </strong> </span> <br/><span style="font-size: 10pt;"><strong>СХД HDD</strong></span></p>
</th>
<th style="width: 8%;">
<p><span style="font-size: 10pt;"><strong>Жур­налы, </strong> </span> <br/><span style="font-size: 10pt;"><strong>ГБ </strong> </span> <br/><span style="font-size: 10pt;"><strong>HDD</strong></span></p>
</th>
<th style="width: 8%;">
<p><span style="font-size: 10pt;"><strong>Резерв­­ные копии, </strong> </span> <br/><span style="font-size: 10pt;"><strong>ГБ </strong> </span> <br/><span style="font-size: 10pt;"><strong>СХД HDD</strong></span></p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="9" style="width: 99.8951%;"><strong>Инфраструктурные сервисы</strong></td>
</tr>
<tr>
<td style="width: 12%;">Nginx reverse proxy1</td>
<td style="width: 25%;">Обратный прокси (VPS)</td>
<td style="width: 4.5%;">2</td>
<td style="width: 4.72193%;">2</td>
<td style="width: 6.87303%;">24</td>
<td style="width: 18.9402%;"> </td>
<td style="width: 10.5456%;"> </td>
<td style="width: 5.71878%;"> </td>
<td style="width: 12%;"> </td>
</tr>
<tr>
<td style="width: 12%;">Nginx reverse proxy2</td>
<td style="width: 25%;">Обратный прокси (VPS)</td>
<td style="width: 4.5%;">2</td>
<td style="width: 4.72193%;">2</td>
<td style="width: 6.87303%;">24</td>
<td style="width: 18.9402%;"> </td>
<td style="width: 10.5456%;"> </td>
<td style="width: 5.71878%;"> </td>
<td style="width: 12%;"> </td>
</tr>
<tr>
<td style="width: 12%;">Zabbix1</td>
<td style="width: 25%;">Cистема монито­ринга и отслеживания (VPS)</td>
<td style="width: 4.5%;">2</td>
<td style="width: 4.72193%;">4</td>
<td style="width: 6.87303%;">24</td>
<td style="width: 18.9402%;">128</td>
<td style="width: 10.5456%;"> </td>
<td style="width: 5.71878%;"> </td>
<td style="width: 12%;"> </td>
</tr>
<tr>
<td style="width: 12%;">Zabbix2</td>
<td style="width: 25%;">Cистема мониторинга и отсле­живания (VPS)</td>
<td style="width: 4.5%;">2</td>
<td style="width: 4.72193%;">4</td>
<td style="width: 6.87303%;">24</td>
<td style="width: 18.9402%;">128</td>
<td style="width: 10.5456%;"> </td>
<td style="width: 5.71878%;"> </td>
<td style="width: 12%;"> </td>
</tr>
<tr>
<td style="width: 12%;"> </td>
<td style="width: 25%;"> </td>
<td style="width: 4.5%;"> </td>
<td style="width: 4.72193%;"> </td>
<td style="width: 6.87303%;"> </td>
<td style="width: 18.9402%;"> </td>
<td style="width: 10.5456%;"> </td>
<td style="width: 5.71878%;"> </td>
<td style="width: 12%;"> </td>
</tr>
<tr>
<td colspan="9" style="width: 99.8951%;"><strong>Продуктовый ландшафт</strong></td>
</tr>
<tr>
<td style="width: 12%;">CBAP-node1*</td>
<td style="width: 25%;">Сервер прило­жений (VPS)</td>
<td style="width: 4.5%;">8</td>
<td style="width: 4.72193%;">32</td>
<td style="width: 6.87303%;">64</td>
<td style="width: 18.9402%;">128</td>
<td rowspan="3" style="width: 10.5456%;">1024</td>
<td style="width: 5.71878%;">16</td>
<td rowspan="3" style="width: 12%;">512</td>
</tr>
<tr>
<td style="width: 12%;">CBAP-node2*</td>
<td style="width: 25%;">Сервер прило­жений (VPS)</td>
<td style="width: 4.5%;">8</td>
<td style="width: 4.72193%;">32</td>
<td style="width: 6.87303%;">64</td>
<td style="width: 18.9402%;">128</td>
<td style="width: 5.71878%;">16</td>
</tr>
<tr>
<td style="width: 12%;">CBAP-node3*</td>
<td style="width: 25%;">Сервер прило­жений (VPS)</td>
<td style="width: 4.5%;">8</td>
<td style="width: 4.72193%;">32</td>
<td style="width: 6.87303%;">64</td>
<td style="width: 18.9402%;">128</td>
<td style="width: 5.71878%;">16</td>
</tr>
<tr>
<td style="width: 12%;">Elasticsearch-node1*</td>
<td style="width: 25%;">Сервер журналов Elasticsearch (VPS)</td>
<td style="width: 4.5%;">4</td>
<td style="width: 4.72193%;">16</td>
<td style="width: 6.87303%;">24</td>
<td style="width: 18.9402%;">128</td>
<td style="width: 10.5456%;"> </td>
<td style="width: 5.71878%;">16</td>
<td rowspan="3" style="width: 12%;">512</td>
</tr>
<tr>
<td style="width: 12%;">Elasticsearch-node2*</td>
<td style="width: 25%;">Сервер журналов Elasticsearch (VPS)</td>
<td style="width: 4.5%;">4</td>
<td style="width: 4.72193%;">16</td>
<td style="width: 6.87303%;">24</td>
<td style="width: 18.9402%;">128</td>
<td style="width: 10.5456%;"> </td>
<td style="width: 5.71878%;">16</td>
</tr>
<tr>
<td style="width: 12%;">Elasticsearch-node3*</td>
<td style="width: 25%;">Сервер журналов Elasticsearch (VPS)</td>
<td style="width: 4.5%;">4</td>
<td style="width: 4.72193%;">16</td>
<td style="width: 6.87303%;">24</td>
<td style="width: 18.9402%;">128</td>
<td style="width: 10.5456%;"> </td>
<td style="width: 5.71878%;">16</td>
</tr>
<tr>
<td colspan="9" style="width: 99.8951%;">* Виртуальные серверы одного сервиса должны быть размещены на разных физических серверах.</td>
</tr>
<tr>
<td colspan="9" style="width: 99.8951%;">Скорость соединения между серверами должна быть не менее 10 Гб/с.</td>
</tr>
<tr>
<td colspan="9" style="width: 99.8951%;"> </td>
</tr>
<tr>
<td colspan="9" style="width: 99.8951%;"><strong>Ландшафт тестирования и разработки</strong></td>
</tr>
<tr>
<td style="width: 12%;">git-server</td>
<td style="width: 25%;">GitLab</td>
<td style="width: 4.5%;">2</td>
<td style="width: 4.72193%;">4</td>
<td style="width: 6.87303%;">24</td>
<td style="width: 18.9402%;">128</td>
<td style="width: 10.5456%;"> </td>
<td style="width: 5.71878%;"> </td>
<td style="width: 12%;"> </td>
</tr>
<tr>
<td style="width: 12%;">CBAP-test</td>
<td style="width: 25%;">Сервер прило­жений (VPS)</td>
<td style="width: 4.5%;">8</td>
<td style="width: 4.72193%;">24</td>
<td style="width: 6.87303%;">64</td>
<td style="width: 18.9402%;">128</td>
<td style="width: 10.5456%;">32</td>
<td style="width: 5.71878%;">16</td>
<td style="width: 12%;">128</td>
</tr>
<tr>
<td style="width: 12%;">CBAP-dev</td>
<td style="width: 25%;">Сервер прило­жений (VPS)</td>
<td style="width: 4.5%;">8</td>
<td style="width: 4.72193%;">24</td>
<td style="width: 6.87303%;">64</td>
<td style="width: 18.9402%;">128</td>
<td style="width: 10.5456%;">32</td>
<td style="width: 5.71878%;">16</td>
<td style="width: 12%;">128</td>
</tr>
<tr>
<td style="width: 12%;">Elasticsearch</td>
<td style="width: 25%;">Сервер журналов Elasticsearch (VPS)</td>
<td style="width: 4.5%;">4</td>
<td style="width: 4.72193%;">16</td>
<td style="width: 6.87303%;">24</td>
<td style="width: 18.9402%;">128</td>
<td style="width: 10.5456%;"> </td>
<td style="width: 5.71878%;">16</td>
<td style="width: 12%;">128</td>
</tr>
<tr>
<td style="width: 12%;"> </td>
<td style="width: 25%;"> </td>
<td style="width: 4.5%;"> </td>
<td style="width: 4.72193%;"> </td>
<td style="width: 6.87303%;"> </td>
<td style="width: 18.9402%;"> </td>
<td style="width: 10.5456%;"> </td>
<td style="width: 5.71878%;"> </td>
<td style="width: 12%;"> </td>
</tr>
<tr>
<td colspan="2" style="width: 26.915%;"><strong>Сумма по типам ресурсов</strong></td>
<td style="width: 4.5%;"><strong>66</strong></td>
<td style="width: 4.72193%;"><strong>224</strong></td>
<td style="width: 6.87303%;"><strong>536</strong></td>
<td style="width: 18.9402%;"><strong>1536</strong></td>
<td style="width: 10.5456%;"><strong>1088</strong></td>
<td style="width: 5.71878%;"><strong>144</strong></td>
<td style="width: 12%;"><strong>1408</strong></td>
</tr>
</tbody>
</table>
</div>
<h4 id="mcetoc_1gjoomt0g2">3.1.3. Минимальная конфигурация основного и резервного серверов приложений</h4>
<div class="table-responsive">
<table border="1" cellpadding="0" cellspacing="0" width="99%">
<thead>
<tr>
<th width="21%">
<p><strong>Кол-во польз.</strong></p>
</th>
<th width="26%">
<p><strong>ЦП</strong></p>
</th>
<th width="22%">
<p><strong>ОЗУ</strong></p>
</th>
<th width="14%">
<p><strong>HDD</strong></p>
</th>
<th width="14%">
<p><strong>SSD</strong></p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="5" valign="top" width="100%">
<p align="left"><strong>Основной сервер приложений</strong></p>
</td>
</tr>
<tr>
<td width="21%">
<p>1–200 активных</p>
</td>
<td width="26%">
<p>4 ядра от 3,7 ГГц <br/>+ <br/>(1 ядро × 100 акт. польз. <br/>× кол-во приложений)</p>
</td>
<td width="22%">
<p>16 ГБ</p>
<p>+</p>
<p>(4 ГБ × 100 акт. польз. <br/>× кол-во приложений)</p>
</td>
<td width="14%">
<p>16 ГБ</p>
</td>
<td width="14%">
<p>16 ГБ</p>
</td>
</tr>
<tr>
<td width="21%">
<p>200 активных</p>
</td>
<td width="26%">
<p>4 ядра <br/>+ <br/>(2 ядра × кол-во прил.)</p>
</td>
<td width="22%">
<p>16 ГБ <br/>+ <br/>(8 ГБ × кол-во прил.)</p>
</td>
<td width="14%">
<p>16 ГБ <br/>× <br/>кол-во прил.</p>
</td>
<td width="14%">
<p>16 ГБ <br/>× <br/>кол-во прил.</p>
</td>
</tr>
<tr>
<td width="21%">
<p>300 активных</p>
</td>
<td width="26%">
<p>4 ядра <br/>+ <br/>(3 ядра × кол-во прил.)</p>
</td>
<td width="22%">
<p>16 ГБ <br/>+ <br/>(12 ГБ × кол-во прил.)</p>
</td>
<td width="14%">
<p>16 ГБ <br/>× <br/>кол-во прил.</p>
</td>
<td width="14%">
<p>16 ГБ <br/>× <br/>кол-во прил.</p>
</td>
</tr>
<tr>
<td width="21%">
<p>400 активных</p>
</td>
<td width="26%">
<p>4 ядра <br/>+</p>
<p>(4 ядра × кол-во прил.)</p>
</td>
<td width="22%">
<p>16 ГБ <br/>+ <br/>(16 ГБ × кол-во прил.)</p>
</td>
<td width="14%">
<p>16 ГБ <br/>× <br/>кол-во прил.</p>
</td>
<td width="14%">
<p>16 ГБ <br/>× <br/>кол-во прил.</p>
</td>
</tr>
<tr>
<td colspan="5" width="100%">
<p align="left"><strong>Резервный сервер приложений</strong></p>
</td>
</tr>
<tr>
<td width="21%">
<p>1­– 200</p>
</td>
<td width="26%">
<p>4 ядра от 3,7 ГГц <br/>+ <br/>(1 ядро × 100 польз. <br/>× кол-во приложений)</p>
</td>
<td width="22%">
<p>16 ГБ <br/>+ <br/>(4 ГБ × 100 польз. <br/>× кол-во приложений)</p>
</td>
<td width="14%">
<p>16 ГБ <br/>× <br/>кол-во прил.</p>
</td>
<td width="14%">
<p>8 ГБ <br/>× <br/>кол-во прил.</p>
</td>
</tr>
<tr>
<td width="21%">
<p>200</p>
</td>
<td width="26%">
<p>4 ядра <br/>+ <br/>(2 ядра × кол-во прил.)</p>
</td>
<td width="22%">
<p>16 ГБ <br/>+ <br/>(8 ГБ × кол-во прил.)</p>
</td>
<td width="14%">
<p>16 ГБ <br/>× <br/>кол-во прил.</p>
</td>
<td width="14%">
<p>8 ГБ <br/>× <br/>кол-во прил.</p>
</td>
</tr>
<tr>
<td width="21%">
<p>300</p>
</td>
<td width="26%">
<p>4 ядра <br/>+ <br/>(3 ядра × кол-во прил.)</p>
</td>
<td width="22%">
<p>16 ГБ <br/>+ <br/>(12 ГБ × кол-во прил.)</p>
</td>
<td width="14%">
<p>16 ГБ <br/>× <br/>кол-во прил.</p>
</td>
<td width="14%">
<p>8 ГБ <br/>× <br/>кол-во прил.</p>
</td>
</tr>
<tr>
<td width="21%">
<p>400</p>
</td>
<td width="26%">
<p>4 ядра <br/>+ <br/>(4 ядра × кол-во прил.)</p>
</td>
<td width="22%">
<p>16 ГБ <br/>+ <br/>(16 ГБ × кол-во прил.)</p>
</td>
<td width="14%">
<p>16 ГБ <br/>× <br/>кол-во прил.</p>
</td>
<td width="14%">
<p>16 ГБ <br/>× <br/>кол-во прил.</p>
</td>
</tr>
</tbody>
</table>
</div>
<h4 id="mcetoc_1g7ebl1d5h">3.1.4. Минимальная конфигурация серверов разработки и тестирования</h4>
<div class="table-responsive">
<table border="1" cellpadding="0" cellspacing="0" width="99%">
<thead>
<tr>
<th width="21%">
<p><strong>Кол-во польз.</strong></p>
</th>
<th width="26%">
<p><strong>ЦП</strong></p>
</th>
<th width="22%">
<p><strong>ОЗУ</strong></p>
</th>
<th width="15%">
<p><strong>HDD</strong></p>
</th>
<th width="14%">
<p><strong>SSD</strong></p>
</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="5" width="100%">
<p align="left"><strong>Сервер разработки</strong></p>
</td>
</tr>
<tr>
<td width="21%">
<p>1–100</p>
</td>
<td width="26%">
<p>4 ядра от 3,7 ГГц</p>
</td>
<td width="22%">
<p>16 ГБ</p>
</td>
<td width="15%">
<p>16 ГБ</p>
</td>
<td width="14%">
<p>16 ГБ</p>
</td>
</tr>
<tr>
<td colspan="5" width="100%">
<p align="left"><strong>Сервер тестирования</strong></p>
</td>
</tr>
<tr>
<td width="21%">
<p>1–100</p>
</td>
<td width="26%">
<p>4 ядра от 3,7 ГГц</p>
</td>
<td width="22%">
<p>16 ГБ</p>
</td>
<td width="15%">
<p>16 ГБ</p>
</td>
<td width="14%">
<p>16 ГБ</p>
</td>
</tr>
</tbody>
</table>
</div>
<h3 id="mcetoc_1g7ebl699j">3.2. Конфигурация системы хранения данных</h3>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">В минимальной конфигурации все папки данных сервера приложений могут храниться в одном разделе на высокопроизводительном SSD-накопителе.</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Высокопроизводительные системы хранения (SSD DAS/SAN) должны обеспечивать производительность не меньше 100 000 IOPS на 1 сервер приложений.</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Объем выделяемого пространства на высокопроизводительных (SSD DAS/SAN) и низкопроизводительных системах хранения (HDD DAS/SAN) следует определить в ходе составления технических требований.</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Для оптимизации обработки, хранения и резервного копирования папки данных сервера приложений можно разместить в отдельных хранилищах:</p>
<ul>
<li><em style="box-sizing: border-box;">файлы базы данных и конфигурации</em> — SSD DAS/SAN (эти данные сервер приложений обрабатывает постоянно в оперативном режиме, что создает высокую нагрузку на подсистему хранения);</li>
<li><em style="box-sizing: border-box;">загруженные пользователями файлы</em> — HDD DAS/SAN (такие файлы хранятся долговременно, не в базе данных и запрашиваются по ссылке, поэтому для их обработки и хранения высокопроизводительная подсистема хранения не требуется);</li>
<li><em style="box-sizing: border-box;">журнал Системы</em> — HDD DAS/SAN (запись файлов журнала создает минимальную нагрузку на подсистему хранения);</li>
<li><em style="box-sizing: border-box;">резервные копии</em> — HDD DAS/SAN (резервные копии формируются периодически, используются редко, для их хранения важнее объем, а не производительность хранилища; тем не менее, скорость резервного копирования может снижаться в случае наличия большого количества мелких файлов, загруженных пользователями, в таком случае можно разместить папку резервных копий на высокопроизводительном накопителе);</li>
<li><em style="box-sizing: border-box;">временная папка</em> — SSD DAS/SAN (нагрузка при хранении и обработке временных файлов может возрастать при большом количестве активных пользователей и транзакций, загрузке пользователями множества файлов и под влиянием прочих факторов).</li>
</ul>
<h2 id="mcetoc_1g7ebvhdq0">4. Конфигурация подсистем</h2>
<h3 id="mcetoc_1g7ec09uj1">4.1. Конфигурация сервера Apache Ignite</h3>
<p>Apache Ignite в минимально необходимой конфигурации устанавливается автоматически при развертывании <strong>Comindware Business Application Platform</strong>.</p>
<p><strong>Требования к конфигурации</strong></p>
<p>См. статью <samp data-name="aid" data-title="" data-value="2093"><span style="color: #0066bc; font-family: Tahoma;"><img src="https://kb.comindware.ru/images/marker.png" style="vertical-align: middle;"/>{Article-ID:2093}</span></samp>.</p>
<p><strong>Примеры конфигураций</strong></p>
<p>См. статью <samp data-name="aid" data-title="" data-value="2093"><span style="color: #0066bc; font-family: Tahoma;"><img src="https://kb.comindware.ru/images/marker.png" style="vertical-align: middle;"/>{Article-ID:2093}</span></samp>.</p>
<h3 id="mcetoc_1g7ec36b72">4.2. Конфигурация сервера Elasticsearch</h3>
<p>Elasticsearch в минимально необходимой конфигурации устанавливается автоматически при развертывании <strong>Comindware Business Application Platform</strong>.</p>
<p><strong>Требования к конфигурации</strong></p>
<ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: decimal; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">Должна быть включена аутентификация.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">Должна быть разрешена работа под любым аккаунтом, кроме стандартного: elastic.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">Номер порта должен отличаться от стандартного 9200.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">В конфигурации должно быть задано достаточное количество шардов: минимум 3000.</li>
</ol>
<p><strong>Примеры конфигураций</strong></p>
<ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: decimal; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">Развертывание одного узла в Windows: см. статью <samp data-name="aid" data-title="" data-value="2094"><span style="color: #0066bc; font-family: Tahoma;"><img src="https://kb.comindware.ru/images/marker.png" style="vertical-align: middle;"/>{Article-ID:2094}</span></samp>.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">Развертывание кластера в Linux: см. статью <samp data-name="aid" data-title="" data-value="2095"><span style="color: #0066bc; font-family: Tahoma;"><img src="https://kb.comindware.ru/images/marker.png" style="vertical-align: middle;"/>{Article-ID:2095}</span></samp>.</li>
</ol>
<h3 id="mcetoc_1g7ec5sie3">4.3. Конфигурация обратного прокси-сервера</h3>
<p>NGINX в минимально необходимой конфигурации устанавливается автоматически при развертывании <strong>Comindware Business Application Platform</strong>.</p>
<p><strong>Требования к конфигурации</strong></p>
<ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: decimal; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">сервер NGINX;</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">модуль ModSecurity;</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">модуль GeoIP.</li>
</ol>
<p><strong>Примеры конфигураций</strong></p>
<ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: decimal; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">Развертывание сервера NGINX: cм. статью <samp data-name="aid" data-title="" data-value="2096"><span style="color: #0066bc; font-family: Tahoma;"><img src="https://kb.comindware.ru/images/marker.png" style="vertical-align: middle;"/>{Article-ID:2096}</span></samp>.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">Развертывание модуля GeoIP: см. статью <samp data-name="aid" data-title="" data-value="2097"><span style="color: #0066bc; font-family: Tahoma;"><img src="https://kb.comindware.ru/images/marker.png" style="vertical-align: middle;"/>{Article-ID:2097}</span></samp>.</li>
</ol>
<h3 id="mcetoc_1g7ec8e2o4">4.4. Конфигурация сервера Zabbix</h3>
<p><strong>Требования к конфигурации</strong></p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; font-size: 15px; font-weight: 300; letter-spacing: 0.2px; line-height: 25px; color: #545764; font-family: 'Open Sans', sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">Конфигурация сервера Zabbix должна обеспечивать мониторинг работоспособности Системы, как указано ниже.</p>
<ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 1rem; padding: 8px 16px; margin-left: 16px; list-style: decimal; text-indent: 0px; color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;">
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">Мониторинг доступности сервера Apache Ignite
<ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding: 8px 16px; margin-left: 16px; list-style: lower-alpha; text-indent: 0px !important;">
<li style="box-sizing: border-box; list-style: lower-alpha; text-indent: 0px !important;">Сервер может быть недоступен из-за проблем с сетью.</li>
<li style="box-sizing: border-box; list-style: lower-alpha; text-indent: 0px !important;">На сервере может закончиться свободное место на диске.</li>
<li style="box-sizing: border-box; list-style: lower-alpha; text-indent: 0px !important;">Конфигурация сервера может не позволять обработать запросы, например, ввиду невозможности создания нового индекса или соответствующего ему шарду.</li>
</ol>
</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">Мониторинг доступности сервера Elasticsearch
<ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding: 8px 16px; margin-left: 16px; list-style: lower-alpha; text-indent: 0px !important;">
<li style="box-sizing: border-box; list-style: lower-alpha; text-indent: 0px !important;">Сервер может быть недоступен из-за проблем с сетью.</li>
<li style="box-sizing: border-box; list-style: lower-alpha; text-indent: 0px !important;">На сервере может закончиться свободное место на диске.</li>
<li style="box-sizing: border-box; list-style: lower-alpha; text-indent: 0px !important;">Конфигурация сервера может не позволять обработать запросы, например, ввиду невозможности создания нового индекса или соответствующего ему шарда.</li>
</ol>
</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">Мониторинг места на дисках с базой данных, журналами, резервными копиями и т. п.</li>
<li style="box-sizing: border-box; list-style: decimal; text-indent: 0px !important;">Мониторинг ошибок в процессе работы Системы
<ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding: 8px 16px; margin-left: 16px; list-style: lower-alpha; text-indent: 0px !important;">
<li style="box-sizing: border-box; list-style: lower-alpha; text-indent: 0px !important;">Ошибки конфигурации Системы.</li>
<li style="box-sizing: border-box; list-style: lower-alpha; text-indent: 0px !important;">Ошибки в процессе эксплуатации Системы.</li>
<li style="box-sizing: border-box; list-style: lower-alpha; text-indent: 0px !important;">Ошибки, связанные с обновлением окружения, в котором работает Система, или компонентов самой Системы.</li>
</ol>
</li>
</ol>
<p><strong>Примеры конфигураций</strong></p>
<p><span style="color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">См. статью <samp data-name="aid" data-title="" data-value="2098"><span style="color: #0066bc; font-family: Tahoma;"><img src="https://kb.comindware.ru/images/marker.png" style="vertical-align: middle;"/>{Article-ID:2098}</span></samp></span><span style="color: #545764; font-family: 'Open Sans', sans-serif; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 300; letter-spacing: 0.2px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">.</span></p>
<div class="table-responsive">
<p><a class="md-top md-icon mkdocs_imported_link" href="#"> <em class="fa-light fa-arrow-up">‌</em> К началу </a></p>
</div>